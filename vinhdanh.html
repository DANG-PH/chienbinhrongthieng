<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chiáº¿n Binh Rá»“ng ThiÃªng</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/icongame1.png" type="image/png" />
  <style>
    #toast {
    position: fixed;
    opacity:0;
    bottom:66%;
    left: 50%;
    transform: translateX(-50%);
    background: #9e9e9e;
    box-shadow: 0 4px 12px rgba(0,0,0,0.7);
    color: black;
    padding: 8px 20px;
    border-radius: 8px;
    font-size: 14px;
    z-index: 9999;
    transition: opacity 0.5s ease, transform 0.5s ease;
    }
    body.dark-mode #toast {
    background: rgba(0, 0, 0, 0.8);
    box-shadow: 0 4px 12px rgba(255,255,255,0.2);
    color: #fff;
    }
    #toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    }
    #toast.hidden {
    opacity: 0;
    pointer-events: none;
    }
    #danh-sach-huy-hieu{
      display:grid;
      grid-template-columns: repeat(3,1fr);
      gap:15px;
      width:75%;
      margin:auto
    }
    .huy-hieu-card {
    width: 100%;
    height:110px;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 0 8px rgba(255,255,255,0.8);
    }
    .huy-hieu-card:hover{
      transform: translateY(-5px);
      filter: brightness(1.1);
      transition: .4s;
    }
    .dragon-god {
      background: linear-gradient(to right, #00e5ff, #7c4dff);
      box-shadow: 0 0 16px #00e5ff;
      color: white;
      font-weight: bold;
      animation: pulseDragon 2s infinite;
    }
    @keyframes pulseDragon {
      0% { transform: scale(1); box-shadow: 0 0 12px #00e5ff; }
      50% { transform: scale(1.03); box-shadow: 0 0 28px #7c4dff; }
      100% { transform: scale(1); box-shadow: 0 0 12px #00e5ff; }
    }

    .gold {
    background: linear-gradient(to right, gold, orange);
    }
    .silver {
    background: linear-gradient(to right, silver, gray);
    }
    .bronze {
    background: linear-gradient(to right, #cd7f32, #8b5e3c);
    }
    .locked {
    background: #333;
    opacity: 0.3;
    }
    body:not(.dark-mode) .huy-hieu-card {
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.8);  
    }
    body:not(.dark-mode) .huy-hieu-card.gold {
      background: linear-gradient(to right, #ffea00, #ffc107);
    }
    body:not(.dark-mode) .huy-hieu-card.silver {
      background: linear-gradient(to right, #d3d3d3, #a9a9a9);
    }
    body:not(.dark-mode) .huy-hieu-card.bronze {
      background: linear-gradient(to right, #e8a87c, #bc6c25);
    }
    body:not(.dark-mode) .huy-hieu-card.locked {
      background: #ddd;
      color: #444;
      opacity: 0.7;
    }
    #top-users{
      width:100%;
      border-collapse:collapse;
      text-align:center;
    }
    #top-users thead{
      background-color:#2a2d32;
      box-shadow: 0 0px 2px rgba(0,0,0,1)
    }
    #top-users td, #top-users th {
    border:1px solid white;
    padding: 10px;
    }
    #top-users tr:nth-child(2n) {
    background-color: rgba(255,255,255,0.05);
    }
    #top-users tr:hover {
    background-color: rgba(255,255,255,0.1);
    }
    body:not(.dark-mode) #top-users thead{
      background-color: #ffe082;
    }
    body:not(.dark-mode) #top-users td, 
    body:not(.dark-mode) #top-users th {
      border: 1px solid #999;
    }

    body:not(.dark-mode) #top-users tr:nth-child(2n) {
      background-color: rgba(0, 0, 0, 0.03);
    }

    body:not(.dark-mode) #top-users tr:hover {
      background-color: rgba(0, 0, 0, 0.07);
    }
    .top-1 {
      color: gold;
      font-weight: bold;
      text-shadow: 0px 0px 1px gold;
    }
    .top-2 {
      color: #d0d0ff;
      font-weight: bold;
      text-shadow: 0px 0px 1px #d0d0ff;
    }
    .top-3 {
      color: #cd7f32; 
      font-weight: bold;
      text-shadow: 0px 0px 0.5px #cd7f32
    }
    body:not(.dark-mode) .top-1 {
      color: #f57f17;
      font-weight: bold;
      text-shadow: 0px 0px 1px #f57f17;
    }
    body:not(.dark-mode) .top-2 {
      color: #3f51b5;
      font-weight: bold;
      text-shadow: 0px 0px 1px #3f51b5;
    }
    body:not(.dark-mode) .top-3 {
      color: #a0522d;
      font-weight: bold;
      text-shadow: 0px 0px 0.5px #a0522d;
    }

    #ds-thanh-tich-an{
      display:grid;
      grid-template-columns: repeat(3,1fr);
      width: 75%;
      margin: auto;
      gap:15px
    }
    .thanh-tich-card {
    width: 100%;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    font-style: italic;
    opacity: 0.4;
    box-shadow: 0 0 8px rgba(255,255,255,0.8);
    }
    .thanh-tich-card:hover{
      transform: translateY(-5px);
      transition: .4s;
    }
    body:not(.dark-mode) .thanh-tich-card {
      background: linear-gradient(to bottom, #ffffff, #f0f0f0);
      color: #333;
      box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.8);  
      opacity: 0.6;
    }
    .avatar-frame {
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid transparent;
    }

    .vip-frame-0 { border-color: gray; }
    .vip-frame-1 { border-color: #ffeb3b; box-shadow: 0 0 6px #ffeb3b}
    .vip-frame-2 { border-color: #ffc107; box-shadow: 0 0 8px #ffc107 }
    .vip-frame-3 { border-color: gold; box-shadow: 0 0 10px gold }
    .vip-frame-4 { border-color: #ff1744;box-shadow: 0 0 12px #ff1744 }
    .vip-frame-5 { border-color: #2979ff; box-shadow: 0 0 12px #2979ff ;animation: glow-vip5 2.5s infinite;}
    .vip-frame-6 { border-color: #ec407a;box-shadow: 0 0 12px #ec407a ;animation: glow-vip6 2.5s infinite;}
    .vip-frame-7 { border-color: #b2ebf2; box-shadow: 0 0 12px #b2ebf2 ;animation: glow-vip7 2.5s infinite;}
    .vip-frame-8 { border-color: #00e5ff; box-shadow: 0 0 12px #00e5ff ;animation: glow-vip8 2.5s infinite;}
    .legendary-frame {
      border-color: 		#B0F1FF;
      box-shadow: 0 0 25px 	#B0F1FF;
      animation: glow-pulse 2.5s infinite

    }
    body.dark-mode .legendary-frame {
      border-color: #ffffff;
      box-shadow: 0 0 25px #ffffff;
      animation: glow-pulse1 2.5s infinite;
      
    }
    @keyframes glow-vip5 {
      0% { box-shadow: 0 0 7px #2979ff; }
      50% { box-shadow: 0 0 21px #2979ff; }
      100% { box-shadow: 0 0 7px #2979ff; }
    }
    @keyframes glow-vip6 {
      0% { box-shadow: 0 0 9px #ec407a; }
      50% { box-shadow: 0 0 24px #ec407a; }
      100% { box-shadow: 0 0 9px #ec407a; }
    }
    @keyframes glow-vip7 {
      0% { box-shadow: 0 0 10px #b2ebf2; }
      50% { box-shadow: 0 0 28px #b2ebf2; }
      100% { box-shadow: 0 0 10px #b2ebf2; }
    }
    @keyframes glow-vip8 {
      0% { box-shadow: 0 0 10px #00e5ff; }
      50% { box-shadow: 0 0 32px #00e5ff; }
      100% { box-shadow: 0 0 10px #00e5ff; }
    }
    @keyframes glow-pulse {
      0% {
        transform: scale(1);
        box-shadow:0 0 15px #00e5ff
      }
      50% {
        transform: scale(1.03);
        box-shadow:0 0 45px #00e5ff
      }
      100% {
        transform: scale(1);
        box-shadow:0 0 15px #00e5ff
      }
    }
    @keyframes glow-pulse1 {
      0% {
        transform: scale(1);
        box-shadow: 0 0 15px #ffffff;
      }
      50% {
        transform: scale(1.03);
        box-shadow: 0 0 45px #ffffff;
      }
      100% {
        transform: scale(1);
        box-shadow: 0 0 15px #ffffff;
      }
    }
    .huy-hieu-card button {
      padding: 8px 12px;
    }

    @media (max-width: 768px){
      #danh-sach-huy-hieu{
        font-size:10px;
        grid-template-columns: repeat(2,1fr);
      }
      .huy-hieu-card {
        height:80px
      }
      #top-users {
        font-size: 8px;
      }

      #top-users img {
        width: 25px !important;
        height: 25px !important;
      }

      #top-users td {
        padding: 4px;
      }
      #ds-thanh-tich-an{
        grid-template-columns: repeat(2,1fr);
        font-size: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div style="overflow: hidden;">
      <video autoplay muted loop playsinline preload="metadata"poster="images/vid1.webp" class="header-video" style="animation: vid1 10s infinite;height:120%;filter: brightness(0.9)">
        <source src="images/vd1.webm" type="video/webm">
        <source src="images/vd1.mp4" type="video/mp4">
      </video>
      <video autoplay muted loop playsinline preload="metadata" poster="images/vid3.webp" class="header-video" style="animation: vid2 10s infinite;filter: brightness(0.9);height:165%">
        <source src="images/vd3.webm" type="video/webm">
        <source src="images/vd3.mp4" type="video/mp4">
      </video>
    </div>
    <div class="overlay"></div>
        <div class="header-content" >
            <h1>Báº£ng VÃ ng Vinh Quang</h1>
            <div>
              <ul>
                <li><a href="index.html">Trang chá»§</a></li>
                <li><a href="gioithieu.html">Giá»›i thiá»‡u</a></li>
                <li><a href="nhanvat.html">NhÃ¢n Váº­t</a></li>
                <li><a href="diendan.html">Diá»…n Ä‘Ã n</a></li>
                <li><a href="https://www.facebook.com/people/Chi%E1%BA%BFn-Binh-R%E1%BB%93ng-Thi%C3%AAng/61576541835732/" target="_blank">Fanpage</a></li>
                <li><a href="tintuc.html">Tin tá»©c</a></li>
                <li><a href="huongdanchoi.html">HÆ°á»›ng dáº«n chÆ¡i</a></li>
                <li><a href="choingay.html">ChÆ¡i ngay</a></li>
                <li><a href="naptien.html">Náº¡p game</a></li>
                <li><a href="shop.html">Shop rá»“ng thiÃªng</a></li>
                <li><a href="chatbot.html">Chat bot há»— trá»£</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="vinhdanh.html" id="selected">Vinh danh chiáº¿n binh</a></li>
              </ul>
            </div>
        </div>
    </div>

    <div class="bg-content1">
        <div style="float:right;margin-top:5px">
            <label class="switch">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider round"></span>
            </label>
        </div>
        <h2>Truyá»n Thuyáº¿t ÄÆ°á»£c Viáº¿t Báº±ng Sá»©c Máº¡nh VÃ  Ã ChÃ­ !</h2>
        <p><i><b>KhÃ´ng cáº§n sinh ra vÄ© Ä‘áº¡i â€” chá»‰ cáº§n dÃ¡m chiáº¿n Ä‘áº¥u! Tá»«ng Ä‘Ã²n tung ra, tá»«ng chiáº¿n tháº¯ng Ä‘áº¡t Ä‘Æ°á»£c... lÃ  tá»«ng dÃ²ng truyá»n thuyáº¿t Ä‘Æ°á»£c viáº¿t nÃªn bá»Ÿi chÃ­nh báº¡n!</b></i></p>

    </div>
    <div id="huy-hieu" class="bg-content1">
        <h2 style="text-align:center">ğŸ–ï¸ HUY HIá»†U</h2>
        <div id="danh-sach-huy-hieu"></div>
    </div>
    <div class="bg-content1">
        <h2 style="text-align:center">ğŸ† Báº¢NG Xáº¾P Háº NG CHIáº¾N BINH</h2>
        <table id="top-users">
            <thead>
                <tr>
                <th>Háº¡ng</th>
                <th>Chiáº¿n Binh</th>
                <th>Tá»•ng Zeni</th>
                <th>VIP</th>
                <th>Danh Hiá»‡u</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div id="thanh-tich-sap-mo" class="bg-content1">
        <h2 style="text-align:center">ğŸ”“ THÃ€NH TÃCH Sáº®P Äáº T</h2>
        <div id="ds-thanh-tich-an" ></div>
    </div>

    <audio id="bg-music" autoplay loop>
        <source src="sounds/phepmau.mp3" type="audio/mpeg">
        TrÃ¬nh duyá»‡t cá»§a báº¡n khÃ´ng há»— trá»£ Ã¢m thanh.
    </audio>
    <button id="toggle-music" class="music-toggle-btn">ğŸ”‡</button>
    <footer>
        <p style="font-style: italic;"><strong>Â© 2025 Chiáº¿n Binh Rá»“ng ThiÃªng | Pháº¡m Háº£i ÄÄƒng</strong></p>
    </footer>
    <div id="toast" class="hidden"></div>
    <script>
        const toggle = document.getElementById("darkModeToggle");

        // Khi táº£i trang: kiá»ƒm tra tráº¡ng thÃ¡i dark mode Ä‘Ã£ lÆ°u
        if (localStorage.getItem("darkMode") === "true") {
        document.body.classList.add("dark-mode");
        toggle.checked = true;
        }

        // Khi ngÆ°á»i dÃ¹ng báº­t/táº¯t dark mode
        toggle.addEventListener("change", function () {
        const isDark = toggle.checked;
        document.body.classList.toggle("dark-mode", isDark);
        localStorage.setItem("darkMode", isDark);
        });
        //audio 
        const bgMusic = document.getElementById("bg-music");
        bgMusic.volume=0.8
        const toggleMusicBtn = document.getElementById("toggle-music");

        let isMusicPlaying = localStorage.getItem("musicPlaying") !== "false"; // máº·c Ä‘á»‹nh lÃ  true

        if (!isMusicPlaying) {
          bgMusic.pause();
          toggleMusicBtn.textContent = "ğŸ”‡";
        } else {
          const savedTime = sessionStorage.getItem("bgMusicTime");
          if (savedTime) {
            bgMusic.currentTime = parseFloat(savedTime);
          }
          bgMusic.play();
          toggleMusicBtn.textContent = "ğŸ”Š";
        }

        toggleMusicBtn.addEventListener("click", function () {
          isMusicPlaying = !isMusicPlaying;
          if (isMusicPlaying) {
            bgMusic.play();
            toggleMusicBtn.textContent = "ğŸ”Š";
          } else {
            bgMusic.pause();
            toggleMusicBtn.textContent = "ğŸ”‡";
          }
          localStorage.setItem("musicPlaying", isMusicPlaying);
        });
        window.addEventListener("beforeunload", () => {
          sessionStorage.setItem("bgMusicTime", bgMusic.currentTime);
        });
        
    </script>
    <script>
    const users = JSON.parse(localStorage.getItem("users")) || [];
    const currentSession = JSON.parse(sessionStorage.getItem("currentUser"));
    const container = document.getElementById("danh-sach-huy-hieu");
    if (!currentSession) {
        container.innerHTML = '<p style="text-align:center;grid-column: 1 / -1;">âš ï¸ Báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ xem huy hiá»‡u cá»§a mÃ¬nh.</p>';
    } else {
        const user = users.find(u => u.email === currentSession.email);
        const tongZeni = user.history?.reduce((sum, h) => sum + h.zeni, 0) || 0;
        const items = user.items?.length || 0;
        const soNgay = user.ngayDangNhap || 1; // náº¿u báº¡n cÃ³ lÆ°u
        user.thanhTich = user.thanhTich || [];
        let html = "";

        // Rá»“ng VÃ ng
        if (tongZeni >= 100000 && !user.thanhTich.includes("rongvang")) {
          html += `
            <div class="huy-hieu-card locked" id="card-rongvang">
              ğŸ’ Rá»“ng VÃ ng<br/>
              Náº¡p trÃªn 100.000 Zeni<br/>
              <button onclick="nhanThuong('rongvang', 20000, 'gold')">Nháº­n thÆ°á»Ÿng</button>
            </div>`;
        } else if (user.thanhTich.includes("rongvang")) {
          html += `
            <div class="huy-hieu-card gold">
              ğŸ’ Rá»“ng VÃ ng<br/>Náº¡p trÃªn 100.000 Zeni<br/>âœ… ÄÃ£ nháº­n thÆ°á»Ÿng
            </div>`;
        } else {
          html += `
            <div class="huy-hieu-card locked">
              ğŸ’ Rá»“ng VÃ ng<br/>Cáº§n thÃªm ${(100000 - tongZeni).toLocaleString()} Zeni
            </div>`;
        }


        // Thá»£ sÄƒn váº­t pháº©m
        if (items >= 10 && !user.thanhTich.includes("hunter10")) {
        html += `
          <div class="huy-hieu-card locked" id="card-hunter10">
            ğŸ›ï¸ Thá»£ SÄƒn Váº­t Pháº©m<br/>
            ÄÃ£ mua 10 váº­t pháº©m<br/>
            <button onclick="nhanThuong('hunter10', 300000, 'silver')">
              Nháº­n thÆ°á»Ÿng
            </button>
          </div>`;
        } else if (user.thanhTich.includes("hunter10")) {
          html += `
            <div class="huy-hieu-card silver">
              ğŸ›ï¸ Thá»£ SÄƒn Váº­t Pháº©m<br/>ÄÃ£ mua 10 váº­t pháº©m<br/>âœ… ÄÃ£ nháº­n thÆ°á»Ÿng
            </div>`;
        } else {
          html += `
            <div class="huy-hieu-card locked">
              ğŸ›ï¸ Thá»£ SÄƒn Váº­t Pháº©m<br/>CÃ²n ${10 - items} mÃ³n ná»¯a
            </div>`;
        }

        // ÄÄƒng nháº­p chÄƒm chá»‰
        if (soNgay >= 2 && !user.thanhTich.includes("login5")) {
          html += `
            <div class="huy-hieu-card locked" id="card-login5">
              ğŸ“… Chiáº¿n Binh ChÄƒm Chá»‰<br/>
              ÄÄƒng nháº­p 2 ngÃ y<br/>
              <button onclick="nhanThuong('login5', 200000, 'bronze')">
                Nháº­n thÆ°á»Ÿng
              </button>
            </div>`;
        } else if (user.thanhTich.includes("login5")) {
          html += `
            <div class="huy-hieu-card bronze">
              ğŸ“… Chiáº¿n Binh ChÄƒm Chá»‰<br/>ÄÄƒng nháº­p 2 ngÃ y<br/>âœ… ÄÃ£ nháº­n thÆ°á»Ÿng
            </div>`;
        } else {
          html += `
            <div class="huy-hieu-card locked">
              ğŸ“… Chiáº¿n Binh ChÄƒm Chá»‰<br/>CÃ²n ${2 - soNgay} ngÃ y ná»¯a
            </div>`;
        }

        // Tháº§n Rá»“ng Gá»i TÃªn
        if (tongZeni >= 500000 && !user.thanhTich.includes("vipmax")) {
          html += `
            <div class="huy-hieu-card locked" id="card-vipmax">
              ğŸ‰ Tháº§n Rá»“ng Gá»i TÃªn<br/>
              VIP cáº¥p cao nháº¥t<br/>
              <button onclick="nhanThuong('vipmax', 500000, 'dragon-god')">
                Nháº­n thÆ°á»Ÿng VIP
              </button>
            </div>`;
        } else if (user.thanhTich.includes("vipmax")) {
          html += `
            <div class="huy-hieu-card dragon-god">
              ğŸ‰ Tháº§n Rá»“ng Gá»i TÃªn<br/>VIP cáº¥p cao nháº¥t<br/>âœ… ÄÃ£ nháº­n thÆ°á»Ÿng
            </div>`;
        } else {
          html += `
            <div class="huy-hieu-card locked">
              ğŸ‰ Tháº§n Rá»“ng Gá»i TÃªn<br/>Cáº§n thÃªm ${(500000 - tongZeni).toLocaleString()} Zeni
            </div>`;
        }

        // Má»Ÿ RÆ°Æ¡ng Nhiá»u Nháº¥t
        if (items >= 17 && !user.thanhTich.includes("hunter17")) {
          html += `
            <div class="huy-hieu-card locked" id="card-hunter17">
              ğŸ Má»Ÿ RÆ°Æ¡ng Nhiá»u Nháº¥t<br/>
              ÄÃ£ mua 17 váº­t pháº©m<br/>
              <button onclick="nhanThuong('hunter17', 170000, 'silver')">
                Nháº­n thÆ°á»Ÿng VIP
              </button>
            </div>`;
        } else if (user.thanhTich.includes("hunter17")) {
          html += `
            <div class="huy-hieu-card silver">
              ğŸ Má»Ÿ RÆ°Æ¡ng Nhiá»u Nháº¥t<br/>ÄÃ£ mua 17 váº­t pháº©m<br/>âœ… ÄÃ£ nháº­n thÆ°á»Ÿng
            </div>`;
        } else {
          html += `
            <div class="huy-hieu-card locked">
              ğŸ Má»Ÿ RÆ°Æ¡ng Nhiá»u Nháº¥t<br/>Cáº§n thÃªm ${17 - items} mÃ³n ná»¯a
            </div>`;
        }
        // ChÄƒm Online
        if (soNgay >= 5 && !user.thanhTich.includes("login15")) {
          html += `
            <div class="huy-hieu-card locked" id="card-login15">
              â±ï¸ ChÄƒm Online<br/>
              ÄÄƒng nháº­p 5 ngÃ y<br/>
              <button onclick="nhanThuong('login15', 300000, 'bronze')">
                Nháº­n thÆ°á»Ÿng VIP
              </button>
            </div>`;
        } else if (user.thanhTich.includes("login15")) {
          html += `
            <div class="huy-hieu-card bronze">
              â±ï¸ ChÄƒm Online<br/>ÄÄƒng nháº­p 5 ngÃ y<br/>âœ… ÄÃ£ nháº­n thÆ°á»Ÿng
            </div>`;
        } else {
          html += `
            <div class="huy-hieu-card locked">
              â±ï¸ ChÄƒm Online<br/>Cáº§n thÃªm ${5 - soNgay} ngÃ y ná»¯a
            </div>`;
        }
        container.innerHTML=html

    }
    function getHuyHieuHTML(ma) {
    switch(ma) {
      case "rongvang":
        return "ğŸ’ Rá»“ng VÃ ng<br/>Náº¡p trÃªn 100.000 Zeni";
      case "hunter10":
        return "ğŸ›ï¸ Thá»£ SÄƒn Váº­t Pháº©m<br/>ÄÃ£ mua 10 váº­t pháº©m";
      case "login5":
        return "ğŸ“… Chiáº¿n Binh ChÄƒm Chá»‰<br/>ÄÄƒng nháº­p 5 ngÃ y";
      case "vipmax":
        return "ğŸ‰ Tháº§n Rá»“ng Gá»i TÃªn<br/>VIP cáº¥p cao nháº¥t";
      case "hunter17":
        return "ğŸ Má»Ÿ RÆ°Æ¡ng Nhiá»u Nháº¥t<br/>ÄÃ£ mua 17 váº­t pháº©m";
      case "login15":
        return "â±ï¸ ChÄƒm Online<br/>ÄÄƒng nháº­p 15 ngÃ y";
    }
  }
    function nhanThuong(ma, soTien, cap) {
    const user = users.find(u => u.email === currentSession.email);
    user.thanhTich = user.thanhTich || [];
    user.kimcuong += soTien;
    user.thanhTich.push(ma);
    localStorage.setItem("users", JSON.stringify(users));
    showToast(`ğŸ‰ Nháº­n ${soTien.toLocaleString()} Zeni tá»« thÃ nh tÃ­ch!`);
    const card = document.getElementById("card-" + ma);
    card.classList.remove("locked");
    card.classList.add(cap); 
    card.innerHTML = getHuyHieuHTML(ma) + "<br/>âœ… ÄÃ£ nháº­n thÆ°á»Ÿng";
  }
    function showToast(message) {
    const toast = document.getElementById("toast");
    if (!toast) return;
    toast.textContent = message;
    toast.className = "show";
    setTimeout(() => {
        toast.className = "hidden";
    }, 3000);
    }
    </script>
    <script>
    function getVipLevel(zeni) {
    if (zeni < 1000) return 0;
    if (zeni < 5000) return 1;
    if (zeni < 10000) return 2;
    if (zeni < 20000) return 3;
    if (zeni < 50000) return 4;
    if (zeni < 100000) return 5;
    if (zeni < 200000) return 6;
    if (zeni < 300000) return 7;
    if (zeni < 500000) return 8;
    if (zeni < 9999999) return 9;
    return 10; // Náº¿u báº¡n muá»‘n cÃ³ cáº¥p â€œvÆ°á»£t maxâ€
    }

    function getTitle(vip) {
    const titles = [
        "âšª TÃ¢n Binh",                 // VIP 0
        "ğŸ”° Chiáº¿n Binh Z",             // VIP 1
        "ğŸ’¥ Chiáº¿n Binh Tá»‘i ThÆ°á»£ng",         // VIP 2
        "ğŸŒŸ Há»™ Vá»‡ VÅ© Trá»¥",            // VIP 3
        "ğŸ’  Kaioshin Táº­p Sá»±",              // VIP 4
        "ğŸ”¥ Kaioshin Tá»‘i Cao",             // VIP 5
        "ğŸ”¥ VÆ°Æ¡ng Tháº§n SÆ¡ Khai",             // VIP 6
        "ğŸ”· Tháº§n Há»§y Diá»‡t",       // VIP 7
        "ğŸ”· Tháº§n ThiÃªn Sá»©",  // VIP 8
        "ğŸ’  Äáº¡i ThiÃªn Sá»©",            // VIP 9
        "<strong>ğŸ‘‘ Chiáº¿n Binh Truyá»n Thuyáº¿t</strong>" // VIP 10+
    ];
    return titles[Math.min(vip, titles.length - 1)];
    }

    function renderBangXepHang() {
        const users = JSON.parse(localStorage.getItem("users")) || [];
        const tbody = document.querySelector("#top-users tbody");

        const sorted = users.map(u => {
        const tongZeni = u.history?.reduce((sum, h) => sum + h.zeni, 0) || 0;
        return { username: u.username, zeni: tongZeni };
        }).sort((a, b) => b.zeni - a.zeni).slice(0, 10);

        let html = "";
        sorted.forEach((u, i) => {
        const vip = getVipLevel(u.zeni);
        const title = getTitle(vip);
        let avatarURL = vip >= 0 && vip <= 8
            ? `images/avt${vip + 1}.webp`
            : "images/vip10.1.avif";
        let frameClass = vip >= 0 && vip <= 8
            ? `vip-frame-${vip}`
            : "legendary-frame";
        let topClass = i === 0 ? "top-1" : i === 1 ? "top-2" : i === 2 ? "top-3" : "";
        html += `
            <tr class="${topClass}">
            <td>Top ${i + 1}</td>
            <td>
              <table style="margin:auto">
                <tr>
                  <td style="padding: 0;border:none">
                    <img src="${avatarURL}" class="avatar-frame ${frameClass}" style="width:40px;height:40px;vertical-align:middle;">
                  </td>
                  <td style="padding-left: 8px; white-space: nowrap; vertical-align: middle;border:none">
                    ${u.username}
                  </td>
                </tr>
              </table>
            </td>
            <td>${u.zeni.toLocaleString()}</td>
            <td>VIP ${vip}</td>
            <td>${title}</td>
            </tr>`;
        });
        tbody.innerHTML = html;
    }

    renderBangXepHang();
    </script>
    <script>
    function renderThanhTichAn() {
        const users = JSON.parse(localStorage.getItem("users")) || [];
        const currentSession = JSON.parse(sessionStorage.getItem("currentUser"));
        const container = document.getElementById("ds-thanh-tich-an");

        if (!currentSession) {
        container.innerHTML = '<p style="text-align:center;grid-column: 1 / -1;">âš ï¸ Vui lÃ²ng Ä‘Äƒng nháº­p Ä‘á»ƒ xem má»¥c tiÃªu cÃ¡ nhÃ¢n.</p>';
        return;
        }

        const user = users.find(u => u.email === currentSession.email);
        const tongZeni = user.history?.reduce((sum, h) => sum + h.zeni, 0) || 0;
        const items = user.items?.length || 0;
        const soNgay = user.ngayDangNhap || 1;
        user.thanhTich = user.thanhTich || [];
        let html = "";

        // Má»¥c tiÃªu 1 â€“ Rá»“ng Lá»­a: náº¡p 200k Zeni
        if (tongZeni < 200000) {
        html += `<div class="thanh-tich-card">
            ğŸ”¥ Cáº§n náº¡p thÃªm ${(200000 - tongZeni).toLocaleString()} Zeni<br/>
            Ä‘á»ƒ Ä‘áº¡t cáº¥p <b>Rá»“ng Lá»­a</b>
        </div>`;
        } else {
            if (!user.thanhTich.includes("ronglua")) {
                user.kimcuong += 50000;
                user.thanhTich.push("ronglua");
                localStorage.setItem("users", JSON.stringify(users));
                showToast("âœ… Nháº­n 50.000 Zeni tá»« thÃ nh tÃ­ch Rá»“ng Lá»­a!");
            }
        }

        // Má»¥c tiÃªu 2 â€“ SÆ°u táº­p siÃªu cáº¥p: mua 20 váº­t pháº©m
        if (items < 12) {
        html += `<div class="thanh-tich-card">
            ğŸ›ï¸ Mua thÃªm ${12 - items} váº­t pháº©m<br/>
            Ä‘á»ƒ má»Ÿ khÃ³a <b>SÆ°u Táº§m SiÃªu Cáº¥p</b>
        </div>`;
        } else{
            if (!user.thanhTich.includes("collector")) {
            user.kimcuong += 40000;
            user.thanhTich.push("collector");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("âœ… Nháº­n 40.000 Zeni tá»« thÃ nh tÃ­ch SÆ°u Táº§m SiÃªu Cáº¥p!");
        }
        }

        // Má»¥c tiÃªu 3 â€“ Chiáº¿n Binh Trung ThÃ nh
        if (soNgay < 10) {
        html += `<div class="thanh-tich-card">
            ğŸ“… ÄÄƒng nháº­p thÃªm ${10 - soNgay} ngÃ y<br/>
            Ä‘á»ƒ trá»Ÿ thÃ nh <b>Chiáº¿n Binh Trung ThÃ nh</b>
        </div>`;
        } else {
            if (!user.thanhTich.includes("trungthanh")) {
                user.kimcuong += 30000;
                user.thanhTich.push("trungthanh");
                localStorage.setItem("users", JSON.stringify(users));
                showToast("âœ… Nháº­n 30.000 Zeni tá»« Chiáº¿n Binh Trung ThÃ nh!")
        }}
 
        // Náº¿u Ä‘Ã£ Ä‘áº¡t háº¿t
        if (html === "") {
        html = `<p style="font-style:italic;">ğŸ‰ Báº¡n Ä‘Ã£ hoÃ n thÃ nh táº¥t cáº£ thÃ nh tÃ­ch hiá»‡n táº¡i!</p>`;
        }

        container.innerHTML = html;
    }
    function showToast(message) {
    const toast = document.getElementById("toast");
    if (!toast) return;
    toast.textContent = message;
    toast.className = "show";
    setTimeout(() => {
        toast.className = "hidden";
    }, 3000);
    }
    renderThanhTichAn();
    </script>
    <script>
        const demoUsers = [
        {
        username: "<strong>ğŸ‘‘ Dang Hai</strong>",
        email: "vip1@demo.cbrt",
        history: [{ zeni: 9999999 }, { zeni: 0 }],
        },
        {
        username: "DÅ©nggg",
        email: "vip2@demo.cbrt",
        history: [{ zeni: 50000 }],
        },
        {
        username: "Saidepchiu",
        email: "vip3@demo.cbrt",
        history: [{ zeni: 158250 }],
        },
        {
        username: "LD ThÃ nhh",
        email: "vip4@demo.cbrt",
        history: [{ zeni: 200000 }],
        },
        {
        username: "Huy Quang",
        email: "vip5@demo.cbrt",
        history: [{ zeni: 327500 }],
        },
        {
        username: "LQC-Nopee",
        email: "vip6@demo.cbrt",
        history: [{ zeni: 488250 }],
        },
        {
        username: "Nguyá»…nVHiá»‡p",
        email: "vip7@demo.cbrt",
        history: [{ zeni: 32250 }],
        },
        {
        username: "chillboy",
        email: "vip8@demo.cbrt",
        history: [{ zeni: 124250 }],
        },
        {
        username: "admin",
        email: "vip9@demo.cbrt",
        history: [{ zeni: 1250 }],
        },
    ];

    const existingUsers = JSON.parse(localStorage.getItem("users")) || [];

    // Loáº¡i bá» báº£n cÅ© bá»‹ trÃ¹ng (náº¿u cÃ³)
    const filteredUsers = existingUsers.filter(u =>
    !demoUsers.some(bot => bot.email === u.email)
    );

    // Gá»™p láº¡i: giá»¯ user tháº­t, thÃªm bot 1 láº§n duy nháº¥t
    const allUsers = [...filteredUsers, ...demoUsers];

    localStorage.setItem("users", JSON.stringify(allUsers));
    </script>
</body>
</html>