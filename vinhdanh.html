<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chi·∫øn Binh R·ªìng Thi√™ng</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/icongame1.png" type="image/png" />
  <style>
    #toast {
    position: fixed;
    opacity:0;
    bottom:66%;
    left: 50%;
    transform: translateX(-50%);
    background: #9e9e9e;
    box-shadow: 0 4px 12px rgba(0,0,0,0.7);
    color: black;
    padding: 8px 20px;
    border-radius: 8px;
    font-size: 14px;
    z-index: 9999;
    transition: opacity 0.5s ease, transform 0.5s ease;
    }
    body.dark-mode #toast {
    background: rgba(0, 0, 0, 0.8);
    box-shadow: 0 4px 12px rgba(255,255,255,0.2);
    color: #fff;
    }
    #toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    }
    #toast.hidden {
    opacity: 0;
    pointer-events: none;
    }
    #danh-sach-huy-hieu{
      display:grid;
      grid-template-columns: repeat(3,1fr);
      gap:15px;
      width:75%;
      margin:auto
    }
    .huy-hieu-card {
    width: 100%;
    height:110px;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 0 8px rgba(255,255,255,0.8);
    }
    .huy-hieu-card:hover{
      transform: translateY(-5px);
      filter: brightness(1.1);
      transition: .4s;
    }
    .dragon-god {
      background: linear-gradient(to right, #00e5ff, #7c4dff);
      box-shadow: 0 0 16px #00e5ff;
      color: white;
      font-weight: bold;
      animation: pulseDragon 2s infinite;
    }
    @keyframes pulseDragon {
      0% { transform: scale(1); box-shadow: 0 0 12px #00e5ff; }
      50% { transform: scale(1.03); box-shadow: 0 0 28px #7c4dff; }
      100% { transform: scale(1); box-shadow: 0 0 12px #00e5ff; }
    }

    .gold {
    background: linear-gradient(to right, gold, orange);
    }
    .silver {
    background: linear-gradient(to right, silver, gray);
    }
    .bronze {
    background: linear-gradient(to right, #cd7f32, #8b5e3c);
    }
    .locked {
    background: #333;
    opacity: 0.3;
    }
    body:not(.dark-mode) .huy-hieu-card {
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.8);  
    }
    body:not(.dark-mode) .huy-hieu-card.gold {
      background: linear-gradient(to right, #ffea00, #ffc107);
    }
    body:not(.dark-mode) .huy-hieu-card.silver {
      background: linear-gradient(to right, #d3d3d3, #a9a9a9);
    }
    body:not(.dark-mode) .huy-hieu-card.bronze {
      background: linear-gradient(to right, #e8a87c, #bc6c25);
    }
    body:not(.dark-mode) .huy-hieu-card.locked {
      background: #ddd;
      color: #444;
      opacity: 0.7;
    }
    #top-users{
      width:100%;
      border-collapse:collapse;
      text-align:center;
    }
    #top-users thead{
      background-color:#2a2d32;
      box-shadow: 0 0px 2px rgba(0,0,0,1)
    }
    #top-users td, #top-users th {
    border:1px solid white;
    padding: 10px;
    }
    #top-users tr:nth-child(2n) {
    background-color: rgba(255,255,255,0.05);
    }
    #top-users tr:hover {
    background-color: rgba(255,255,255,0.1);
    }
    body:not(.dark-mode) #top-users thead{
      background-color: #ffe082;
    }
    body:not(.dark-mode) #top-users td, 
    body:not(.dark-mode) #top-users th {
      border: 1px solid #999;
    }

    body:not(.dark-mode) #top-users tr:nth-child(2n) {
      background-color: rgba(0, 0, 0, 0.03);
    }

    body:not(.dark-mode) #top-users tr:hover {
      background-color: rgba(0, 0, 0, 0.07);
    }
    .top-1 {
      color: gold;
      font-weight: bold;
      text-shadow: 0px 0px 1px gold;
    }
    .top-2 {
      color: #d0d0ff;
      font-weight: bold;
      text-shadow: 0px 0px 1px #d0d0ff;
    }
    .top-3 {
      color: #cd7f32; 
      font-weight: bold;
      text-shadow: 0px 0px 0.5px #cd7f32
    }
    body:not(.dark-mode) .top-1 {
      color: #f57f17;
      font-weight: bold;
      text-shadow: 0px 0px 1px #f57f17;
    }
    body:not(.dark-mode) .top-2 {
      color: #3f51b5;
      font-weight: bold;
      text-shadow: 0px 0px 1px #3f51b5;
    }
    body:not(.dark-mode) .top-3 {
      color: #a0522d;
      font-weight: bold;
      text-shadow: 0px 0px 0.5px #a0522d;
    }

    #ds-thanh-tich-an{
      display:grid;
      grid-template-columns: repeat(3,1fr);
      width: 75%;
      margin: auto;
      gap:15px
    }
    .thanh-tich-card {
    width: 100%;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    font-style: italic;
    opacity: 0.4;
    box-shadow: 0 0 8px rgba(255,255,255,0.8);
    }
    .thanh-tich-card:hover{
      transform: translateY(-5px);
      transition: .4s;
    }
    body:not(.dark-mode) .thanh-tich-card {
      background: linear-gradient(to bottom, #ffffff, #f0f0f0);
      color: #333;
      box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.8);  
      opacity: 0.6;
    }
    .avatar-frame {
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid transparent;
    }

    .vip-frame-0 { border-color: gray; }
    .vip-frame-1 { border-color: #ffeb3b; box-shadow: 0 0 6px #ffeb3b}
    .vip-frame-2 { border-color: #ffc107; box-shadow: 0 0 8px #ffc107 }
    .vip-frame-3 { border-color: gold; box-shadow: 0 0 10px gold }
    .vip-frame-4 { border-color: #ff1744;box-shadow: 0 0 12px #ff1744 }
    .vip-frame-5 { border-color: #2979ff; box-shadow: 0 0 12px #2979ff ;animation: glow-vip5 2.5s infinite;}
    .vip-frame-6 { border-color: #ec407a;box-shadow: 0 0 12px #ec407a ;animation: glow-vip6 2.5s infinite;}
    .vip-frame-7 { border-color: #b2ebf2; box-shadow: 0 0 12px #b2ebf2 ;animation: glow-vip7 2.5s infinite;}
    .vip-frame-8 { border-color: #00e5ff; box-shadow: 0 0 12px #00e5ff ;animation: glow-vip8 2.5s infinite;}
    .legendary-frame {
      border-color: 		#B0F1FF;
      box-shadow: 0 0 25px 	#B0F1FF;
      animation: glow-pulse 2.5s infinite

    }
    body.dark-mode .legendary-frame {
      border-color: #ffffff;
      box-shadow: 0 0 25px #ffffff;
      animation: glow-pulse1 2.5s infinite;
      
    }
    @keyframes glow-vip5 {
      0% { box-shadow: 0 0 7px #2979ff; }
      50% { box-shadow: 0 0 21px #2979ff; }
      100% { box-shadow: 0 0 7px #2979ff; }
    }
    @keyframes glow-vip6 {
      0% { box-shadow: 0 0 9px #ec407a; }
      50% { box-shadow: 0 0 24px #ec407a; }
      100% { box-shadow: 0 0 9px #ec407a; }
    }
    @keyframes glow-vip7 {
      0% { box-shadow: 0 0 10px #b2ebf2; }
      50% { box-shadow: 0 0 28px #b2ebf2; }
      100% { box-shadow: 0 0 10px #b2ebf2; }
    }
    @keyframes glow-vip8 {
      0% { box-shadow: 0 0 10px #00e5ff; }
      50% { box-shadow: 0 0 32px #00e5ff; }
      100% { box-shadow: 0 0 10px #00e5ff; }
    }
    @keyframes glow-pulse {
      0% {
        transform: scale(1);
        box-shadow:0 0 15px #00e5ff
      }
      50% {
        transform: scale(1.03);
        box-shadow:0 0 45px #00e5ff
      }
      100% {
        transform: scale(1);
        box-shadow:0 0 15px #00e5ff
      }
    }
    @keyframes glow-pulse1 {
      0% {
        transform: scale(1);
        box-shadow: 0 0 15px #ffffff;
      }
      50% {
        transform: scale(1.03);
        box-shadow: 0 0 45px #ffffff;
      }
      100% {
        transform: scale(1);
        box-shadow: 0 0 15px #ffffff;
      }
    }
    @media (max-width: 768px){
      #danh-sach-huy-hieu{
        font-size:10px;
        grid-template-columns: repeat(2,1fr);
      }
      .huy-hieu-card {
        height:80px
      }
      #top-users {
        font-size: 8px;
      }

      #top-users img {
        width: 25px !important;
        height: 25px !important;
      }

      #top-users td {
        padding: 4px;
      }
      #ds-thanh-tich-an{
        grid-template-columns: repeat(2,1fr);
        font-size: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div style="overflow: hidden;">
      <video autoplay muted loop playsinline preload="auto" poster="images/vid1.webp" class="header-video" style="animation: vid1 10s infinite;height:120%;filter: brightness(0.9)">
        <source src="images/vd1.mp4" type="video/mp4">
      </video>
      <video autoplay muted loop playsinline preload="auto" poster="images/vid3.webp" class="header-video" style="animation: vid2 10s infinite;filter: brightness(0.9);height:165%">
        <source src="images/vd3.mp4" type="video/mp4">
      </video>
    </div>
    <div class="overlay"></div>
        <div class="header-content" >
            <h1>B·∫£ng V√†ng Vinh Quang</h1>
            <div>
              <ul>
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="gioithieu.html">Gi·ªõi thi·ªáu</a></li>
                <li><a href="nhanvat.html">Nh√¢n V·∫≠t</a></li>
                <li><a href="diendan.html">Di·ªÖn ƒë√†n</a></li>
                <li><a href="https://www.facebook.com/people/Chi%E1%BA%BFn-Binh-R%E1%BB%93ng-Thi%C3%AAng/61576541835732/" target="_blank">Fanpage</a></li>
                <li><a href="tintuc.html">Tin t·ª©c</a></li>
                <li><a href="huongdanchoi.html">H∆∞·ªõng d·∫´n ch∆°i</a></li>
                <li><a href="choingay.html">Ch∆°i ngay</a></li>
                <li><a href="naptien.html">N·∫°p game</a></li>
                <li><a href="shop.html">Shop r·ªìng thi√™ng</a></li>
                <li><a href="chatbot.html">Chat bot h·ªó tr·ª£</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="vinhdanh.html" id="selected">Vinh danh chi·∫øn binh</a></li>
              </ul>
            </div>
        </div>
    </div>

    <div class="bg-content1">
        <div style="float:right;margin-top:5px">
            <label class="switch">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider round"></span>
            </label>
        </div>
        <h2>Truy·ªÅn Thuy·∫øt ƒê∆∞·ª£c Vi·∫øt B·∫±ng S·ª©c M·∫°nh V√† √ù Ch√≠ !</h2>
        <p><i><b>Kh√¥ng c·∫ßn sinh ra vƒ© ƒë·∫°i ‚Äî ch·ªâ c·∫ßn d√°m chi·∫øn ƒë·∫•u! T·ª´ng ƒë√≤n tung ra, t·ª´ng chi·∫øn th·∫Øng ƒë·∫°t ƒë∆∞·ª£c... l√† t·ª´ng d√≤ng truy·ªÅn thuy·∫øt ƒë∆∞·ª£c vi·∫øt n√™n b·ªüi ch√≠nh b·∫°n!</b></i></p>

    </div>
    <div id="huy-hieu" class="bg-content1">
        <h2 style="text-align:center">üéñÔ∏è HUY HI·ªÜU</h2>
        <div id="danh-sach-huy-hieu"></div>
    </div>
    <div class="bg-content1">
        <h2 style="text-align:center">üèÜ B·∫¢NG X·∫æP H·∫†NG CHI·∫æN BINH</h2>
        <table id="top-users">
            <thead>
                <tr>
                <th>H·∫°ng</th>
                <th>Chi·∫øn Binh</th>
                <th>T·ªïng Zeni</th>
                <th>VIP</th>
                <th>Danh Hi·ªáu</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div id="thanh-tich-sap-mo" class="bg-content1">
        <h2 style="text-align:center">üîì TH√ÄNH T√çCH S·∫ÆP ƒê·∫†T</h2>
        <div id="ds-thanh-tich-an" ></div>
    </div>

    <audio id="bg-music" autoplay loop>
        <source src="sounds/phepmau.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ √¢m thanh.
    </audio>
    <button id="toggle-music" class="music-toggle-btn">üîá</button>
    <footer>
        <p style="font-style: italic;"><strong>¬© 2025 Chi·∫øn Binh R·ªìng Thi√™ng | Ph·∫°m H·∫£i ƒêƒÉng</strong></p>
    </footer>
    <div id="toast" class="hidden"></div>
    <script>
        const toggle = document.getElementById("darkModeToggle");

        // Khi t·∫£i trang: ki·ªÉm tra tr·∫°ng th√°i dark mode ƒë√£ l∆∞u
        if (localStorage.getItem("darkMode") === "true") {
        document.body.classList.add("dark-mode");
        toggle.checked = true;
        }

        // Khi ng∆∞·ªùi d√πng b·∫≠t/t·∫Øt dark mode
        toggle.addEventListener("change", function () {
        const isDark = toggle.checked;
        document.body.classList.toggle("dark-mode", isDark);
        localStorage.setItem("darkMode", isDark);
        });
        //audio 
        const bgMusic = document.getElementById("bg-music");
        bgMusic.volume=0.8
        const toggleMusicBtn = document.getElementById("toggle-music");

        let isMusicPlaying = localStorage.getItem("musicPlaying") !== "false"; // m·∫∑c ƒë·ªãnh l√† true

        if (!isMusicPlaying) {
          bgMusic.pause();
          toggleMusicBtn.textContent = "üîá";
        } else {
          const savedTime = sessionStorage.getItem("bgMusicTime");
          if (savedTime) {
            bgMusic.currentTime = parseFloat(savedTime);
          }
          bgMusic.play();
          toggleMusicBtn.textContent = "üîä";
        }

        toggleMusicBtn.addEventListener("click", function () {
          isMusicPlaying = !isMusicPlaying;
          if (isMusicPlaying) {
            bgMusic.play();
            toggleMusicBtn.textContent = "üîä";
          } else {
            bgMusic.pause();
            toggleMusicBtn.textContent = "üîá";
          }
          localStorage.setItem("musicPlaying", isMusicPlaying);
        });
        window.addEventListener("beforeunload", () => {
          sessionStorage.setItem("bgMusicTime", bgMusic.currentTime);
        });
        
    </script>
    <script>
    const users = JSON.parse(localStorage.getItem("users")) || [];
    const currentSession = JSON.parse(sessionStorage.getItem("currentUser"));
    const container = document.getElementById("danh-sach-huy-hieu");
    if (!currentSession) {
        container.innerHTML = '<p style="text-align:center;grid-column: 1 / -1;">‚ö†Ô∏è B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ xem huy hi·ªáu c·ªßa m√¨nh.</p>';
    } else {
        const user = users.find(u => u.email === currentSession.email);
        const tongZeni = user.history?.reduce((sum, h) => sum + h.zeni, 0) || 0;
        const items = user.items?.length || 0;
        const soNgay = user.ngayDangNhap || 1; // n·∫øu b·∫°n c√≥ l∆∞u
        user.thanhTich = user.thanhTich || [];
        let html = "";

        // R·ªìng V√†ng
        if (tongZeni >= 100000) {
        html += `<div class="huy-hieu-card gold">üíé R·ªìng V√†ng<br/>N·∫°p tr√™n 100.000 Zeni</div>`;
        if (!user.thanhTich.includes("rongvang")) {
            user.kimcuong += 20000;
            user.thanhTich.push("rongvang");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ Nh·∫≠n 20.000 Zeni t·ª´ huy hi·ªáu R·ªìng V√†ng!");
        }
        } else {
        html += `<div class="huy-hieu-card locked">üíé R·ªìng V√†ng<br/>C·∫ßn th√™m ${(100000 - tongZeni).toLocaleString()} Zeni</div>`;
        }

        // Th·ª£ sƒÉn v·∫≠t ph·∫©m
        if (items >= 10) {
        html += `<div class="huy-hieu-card silver">üõçÔ∏è Th·ª£ SƒÉn V·∫≠t Ph·∫©m<br/>ƒê√£ mua 10 v·∫≠t ph·∫©m</div>`;
        if (!user.thanhTich.includes("hunter10")) {
            user.kimcuong += 300000;
            user.thanhTich.push("hunter10");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ Nh·∫≠n 300.000 Zeni t·ª´ Th·ª£ SƒÉn V·∫≠t Ph·∫©m!");
        }
        } else {
        html += `<div class="huy-hieu-card locked">üõçÔ∏è Th·ª£ SƒÉn V·∫≠t Ph·∫©m<br/>C√≤n ${(10 - items)} m√≥n n·ªØa</div>`;
        }

        // ƒêƒÉng nh·∫≠p chƒÉm ch·ªâ
        if (soNgay >= 2) {
        html += `<div class="huy-hieu-card bronze">üìÖ Chi·∫øn Binh ChƒÉm Ch·ªâ<br/>ƒêƒÉng nh·∫≠p 2 ng√†y</div>`;
        if (!user.thanhTich.includes("login5")) {
            user.kimcuong += 200000;
            user.thanhTich.push("login5");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ Nh·∫≠n 200.000 Zeni t·ª´ huy hi·ªáu ChƒÉm Ch·ªâ!");
        }
        } else {
        html += `<div class="huy-hieu-card locked">üìÖ Chi·∫øn Binh ChƒÉm Ch·ªâ<br/>C√≤n ${2 - soNgay} ng√†y n·ªØa</div>`;
        }

        // Th·∫ßn R·ªìng G·ªçi T√™n
        if (tongZeni >= 500000) {
        html += `<div class="huy-hieu-card dragon-god">üêâ Th·∫ßn R·ªìng G·ªçi T√™n<br/>VIP c·∫•p cao nh·∫•t</div>`;
        if (!user.thanhTich.includes("vipmax")) {
            user.kimcuong += 500000;
            user.thanhTich.push("vipmax");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ Nh·∫≠n 500.000 Zeni t·ª´ Th·∫ßn R·ªìng G·ªçi T√™n!");
        }
        } else {
        html += `<div class="huy-hieu-card locked">üêâ Th·∫ßn R·ªìng G·ªçi T√™n<br/>C·∫ßn th√™m ${(500000 - tongZeni).toLocaleString()} Zeni</div>`;
        }

        // M·ªü R∆∞∆°ng Nhi·ªÅu Nh·∫•t
        if (items >= 17) {
        html += `<div class="huy-hieu-card silver">üéÅ M·ªü R∆∞∆°ng Nhi·ªÅu Nh·∫•t<br/>ƒê√£ mua 17 v·∫≠t ph·∫©m</div>`;
        if (!user.thanhTich.includes("hunter17")) {
            user.kimcuong += 170000;
            user.thanhTich.push("hunter17");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ Nh·∫≠n 170.000 Zeni t·ª´ M·ªü R∆∞∆°ng Nhi·ªÅu Nh·∫•t!");
        }
        } else {
        html += `<div class="huy-hieu-card locked">üéÅ M·ªü R∆∞∆°ng Nhi·ªÅu Nh·∫•t<br/>C·∫ßn th√™m ${17 - items} m√≥n n·ªØa</div>`;
        }

        // ChƒÉm Online
        if (soNgay >= 5) {
        html += `<div class="huy-hieu-card bronze">‚è±Ô∏è ChƒÉm Online<br/>ƒêƒÉng nh·∫≠p 5 ng√†y</div>`;
        if (!user.thanhTich.includes("login15")) {
            user.kimcuong += 300000;
            user.thanhTich.push("login15");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ Nh·∫≠n 300.000 Zeni t·ª´ huy hi·ªáu ChƒÉm Online!");
        }
        } else {
        html += `<div class="huy-hieu-card locked">‚è±Ô∏è ChƒÉm Online<br/>C·∫ßn th√™m ${5 - soNgay} ng√†y n·ªØa</div>`;
        }
        container.innerHTML=html

    }
    function showToast(message) {
    const toast = document.getElementById("toast");
    if (!toast) return;
    toast.textContent = message;
    toast.className = "show";
    setTimeout(() => {
        toast.className = "hidden";
    }, 3000);
    }
    </script>
    <script>
    function getVipLevel(zeni) {
    if (zeni < 1000) return 0;
    if (zeni < 5000) return 1;
    if (zeni < 10000) return 2;
    if (zeni < 20000) return 3;
    if (zeni < 50000) return 4;
    if (zeni < 100000) return 5;
    if (zeni < 200000) return 6;
    if (zeni < 300000) return 7;
    if (zeni < 500000) return 8;
    if (zeni < 9999999) return 9;
    return 10; // N·∫øu b·∫°n mu·ªën c√≥ c·∫•p ‚Äúv∆∞·ª£t max‚Äù
    }

    function getTitle(vip) {
    const titles = [
        "‚ö™ T√¢n Binh",                 // VIP 0
        "üî∞ Chi·∫øn Binh Z",             // VIP 1
        "üí• Chi·∫øn Binh T·ªëi Th∆∞·ª£ng",         // VIP 2
        "üåü H·ªô V·ªá V≈© Tr·ª•",            // VIP 3
        "üí† Kaioshin T·∫≠p S·ª±",              // VIP 4
        "üî• Kaioshin T·ªëi Cao",             // VIP 5
        "üî• V∆∞∆°ng Th·∫ßn S∆° Khai",             // VIP 6
        "üî∑ Th·∫ßn H·ªßy Di·ªát",       // VIP 7
        "üî∑ Th·∫ßn Thi√™n S·ª©",  // VIP 8
        "üí† ƒê·∫°i Thi√™n S·ª©",            // VIP 9
        "<strong>üëë Chi·∫øn Binh Truy·ªÅn Thuy·∫øt</strong>" // VIP 10+
    ];
    return titles[Math.min(vip, titles.length - 1)];
    }

    function renderBangXepHang() {
        const users = JSON.parse(localStorage.getItem("users")) || [];
        const tbody = document.querySelector("#top-users tbody");

        const sorted = users.map(u => {
        const tongZeni = u.history?.reduce((sum, h) => sum + h.zeni, 0) || 0;
        return { username: u.username, zeni: tongZeni };
        }).sort((a, b) => b.zeni - a.zeni).slice(0, 10);

        let html = "";
        sorted.forEach((u, i) => {
        const vip = getVipLevel(u.zeni);
        const title = getTitle(vip);
        let avatarURL = vip >= 0 && vip <= 8
            ? `images/avt${vip + 1}.webp`
            : "images/vip10.1.avif";
        let frameClass = vip >= 0 && vip <= 8
            ? `vip-frame-${vip}`
            : "legendary-frame";
        let topClass = i === 0 ? "top-1" : i === 1 ? "top-2" : i === 2 ? "top-3" : "";
        html += `
            <tr class="${topClass}">
            <td>Top ${i + 1}</td>
            <td>
              <table style="margin:auto">
                <tr>
                  <td style="padding: 0;border:none">
                    <img src="${avatarURL}" class="avatar-frame ${frameClass}" style="width:40px;height:40px;vertical-align:middle;">
                  </td>
                  <td style="padding-left: 8px; white-space: nowrap; vertical-align: middle;border:none">
                    ${u.username}
                  </td>
                </tr>
              </table>
            </td>
            <td>${u.zeni.toLocaleString()}</td>
            <td>VIP ${vip}</td>
            <td>${title}</td>
            </tr>`;
        });
        tbody.innerHTML = html;
    }

    renderBangXepHang();
    </script>
    <script>
    function renderThanhTichAn() {
        const users = JSON.parse(localStorage.getItem("users")) || [];
        const currentSession = JSON.parse(sessionStorage.getItem("currentUser"));
        const container = document.getElementById("ds-thanh-tich-an");

        if (!currentSession) {
        container.innerHTML = '<p style="text-align:center;grid-column: 1 / -1;">‚ö†Ô∏è Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ xem m·ª•c ti√™u c√° nh√¢n.</p>';
        return;
        }

        const user = users.find(u => u.email === currentSession.email);
        const tongZeni = user.history?.reduce((sum, h) => sum + h.zeni, 0) || 0;
        const items = user.items?.length || 0;
        const soNgay = user.ngayDangNhap || 1;
        user.thanhTich = user.thanhTich || [];
        let html = "";

        // M·ª•c ti√™u 1 ‚Äì R·ªìng L·ª≠a: n·∫°p 200k Zeni
        if (tongZeni < 200000) {
        html += `<div class="thanh-tich-card">
            üî• C·∫ßn n·∫°p th√™m ${(200000 - tongZeni).toLocaleString()} Zeni<br/>
            ƒë·ªÉ ƒë·∫°t c·∫•p <b>R·ªìng L·ª≠a</b>
        </div>`;
        } else {
            if (!user.thanhTich.includes("ronglua")) {
                user.kimcuong += 50000;
                user.thanhTich.push("ronglua");
                localStorage.setItem("users", JSON.stringify(users));
                showToast("‚úÖ Nh·∫≠n 50.000 Zeni t·ª´ th√†nh t√≠ch R·ªìng L·ª≠a!");
            }
        }

        // M·ª•c ti√™u 2 ‚Äì S∆∞u t·∫≠p si√™u c·∫•p: mua 20 v·∫≠t ph·∫©m
        if (items < 12) {
        html += `<div class="thanh-tich-card">
            üõçÔ∏è Mua th√™m ${12 - items} v·∫≠t ph·∫©m<br/>
            ƒë·ªÉ m·ªü kh√≥a <b>S∆∞u T·∫ßm Si√™u C·∫•p</b>
        </div>`;
        } else{
            if (!user.thanhTich.includes("collector")) {
            user.kimcuong += 40000;
            user.thanhTich.push("collector");
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ Nh·∫≠n 40.000 Zeni t·ª´ th√†nh t√≠ch S∆∞u T·∫ßm Si√™u C·∫•p!");
        }
        }

        // M·ª•c ti√™u 3 ‚Äì Chi·∫øn Binh Trung Th√†nh
        if (soNgay < 10) {
        html += `<div class="thanh-tich-card">
            üìÖ ƒêƒÉng nh·∫≠p th√™m ${10 - soNgay} ng√†y<br/>
            ƒë·ªÉ tr·ªü th√†nh <b>Chi·∫øn Binh Trung Th√†nh</b>
        </div>`;
        } else {
            if (!user.thanhTich.includes("trungthanh")) {
                user.kimcuong += 30000;
                user.thanhTich.push("trungthanh");
                localStorage.setItem("users", JSON.stringify(users));
                showToast("‚úÖ Nh·∫≠n 30.000 Zeni t·ª´ Chi·∫øn Binh Trung Th√†nh!")
        }}
 
        // N·∫øu ƒë√£ ƒë·∫°t h·∫øt
        if (html === "") {
        html = `<p style="font-style:italic;">üéâ B·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ th√†nh t√≠ch hi·ªán t·∫°i!</p>`;
        }

        container.innerHTML = html;
    }
    function showToast(message) {
    const toast = document.getElementById("toast");
    if (!toast) return;
    toast.textContent = message;
    toast.className = "show";
    setTimeout(() => {
        toast.className = "hidden";
    }, 3000);
    }
    renderThanhTichAn();
    </script>
    <script>
        const demoUsers = [
        {
        username: "<strong>üëë Dang Hai</strong>",
        email: "vip1@demo.cbrt",
        history: [{ zeni: 9999999 }, { zeni: 0 }],
        },
        {
        username: "D≈©nggg",
        email: "vip2@demo.cbrt",
        history: [{ zeni: 50000 }],
        },
        {
        username: "Saidepchiu",
        email: "vip3@demo.cbrt",
        history: [{ zeni: 158250 }],
        },
        {
        username: "LD Th√†nhh",
        email: "vip4@demo.cbrt",
        history: [{ zeni: 200000 }],
        },
        {
        username: "Huy Quang",
        email: "vip5@demo.cbrt",
        history: [{ zeni: 327500 }],
        },
        {
        username: "LQC-Nopee",
        email: "vip6@demo.cbrt",
        history: [{ zeni: 488250 }],
        },
        {
        username: "Nguy·ªÖnVHi·ªáp",
        email: "vip7@demo.cbrt",
        history: [{ zeni: 32250 }],
        },
        {
        username: "chillboy",
        email: "vip8@demo.cbrt",
        history: [{ zeni: 124250 }],
        },
        {
        username: "admin",
        email: "vip9@demo.cbrt",
        history: [{ zeni: 1250 }],
        },
    ];

    const existingUsers = JSON.parse(localStorage.getItem("users")) || [];

    // Lo·∫°i b·ªè b·∫£n c≈© b·ªã tr√πng (n·∫øu c√≥)
    const filteredUsers = existingUsers.filter(u =>
    !demoUsers.some(bot => bot.email === u.email)
    );

    // G·ªôp l·∫°i: gi·ªØ user th·∫≠t, th√™m bot 1 l·∫ßn duy nh·∫•t
    const allUsers = [...filteredUsers, ...demoUsers];

    localStorage.setItem("users", JSON.stringify(allUsers));
    </script>
</body>
</html>