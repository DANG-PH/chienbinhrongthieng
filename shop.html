<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chi·∫øn Binh R·ªìng Thi√™ng</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/icongame1.png" type="image/png" />
  <style>
    .vip strong{
      color:#1976d2
    }
    body.dark-mode .vip strong{
      color:#ffa500;
    }
    .shop-grid {
      display: grid;
      grid-template-columns: repeat(3,1fr);
      gap: 20px;
      padding-top: 10px;
    }
    .item-card {
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 12px;
      text-align: center;
      box-shadow: 0px 0px 12px rgba(0,0,0,0.3);
    }
    .item-card:hover{
        transform: translateY(-5px);
        box-shadow: 0px 0px 38px rgba(0,0,0,0.3);
        transition: .4s;
    }
    body.dark-mode .item-card:hover{
        box-shadow: 0px 0px 38px rgba(255,165,0,0.3);
    }
    body.dark-mode .item-card {
      background: rgba(30,30,30,0.9);
    }
    .item-card img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
    }
    .item-card button {
      margin-top: 10px;
      padding: 6px 12px;
      font-weight: bold;
    }
    #toast {
      position: fixed;
      opacity: 0;
      bottom: 60%;
      left: 50%;
      transform: translateX(-50%);
      background: #9e9e9e;
      box-shadow: 0 4px 12px rgba(0,0,0,0.7);
      color: black;
      padding: 8px 20px;
      border-radius: 8px;
      font-size: 14px;
      z-index: 9999;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    body.dark-mode #toast {
      background: rgba(0, 0, 0, 0.8);
      color: white;
    }
    #toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
    #toast.hidden {
      opacity: 0;
      pointer-events: none;
    }
    .thanhtimkiem{
      display:flex;
      justify-content: flex-start;
      margin-top: -10px;
    }
    .thanhtimkiem input{
      width: 50%;
      height:20px;
      outline:none;
      border:none;
      background-color: #f5f5f5;
      border-color: black;
      font-size:17px;
    }
    .thanhtimkiem input::placeholder{
      color:#222;
      font-size:14px !important;
    }
    body.dark-mode .thanhtimkiem input{
      background:#1E1E1E ;
      caret-color: #eee;
      color:#eee;
    }
    body.dark-mode .thanhtimkiem input::placeholder{
      color:#eee;
    }
    @media (max-width: 768px){
      .shop-grid {
        grid-template-columns: repeat(2,1fr);
      }
      .item-card img{
        height:90px;
      }
      .item-card p{
        font-size:9px;
      }
      .item-card h4{
        font-size: 12px;
      }
      .item-card button{
        font-size: 10px;
      }
      table {
        font-size:10px
      }
      .thanhtimkiem input{
        width: 100%;
        height:14px;
        font-size:10px !important;
      }
      .thanhtimkiem input::placeholder{
        font-size: 10px !important;
      }
    }


  </style>
</head>
<body>
  <div class="header">
    <div style="overflow: hidden;">
      <video autoplay muted loop playsinline preload="metadata" poster="images/huongdanchoi2.webp" class="header-video" style="animation: vid1 10s infinite;height:120%;filter: brightness(0.9)">
        <source src="images/huongdanchoi2.webm" type="video/webm">
        <source src="images/huongdanchoi2.mp4" type="video/mp4">
      </video>
      <video autoplay muted loop playsinline preload="metadata" poster="images/nhanvat1.webp" class="header-video" style="animation: vid2 10s infinite;filter: brightness(0.9)">
        <source src="images/nhanvat1.webm" type="video/webm">
        <source src="images/nhanvat1.mp4" type="video/mp4">
      </video>
    </div>
    <div class="overlay"></div>
        <div class="header-content" >
            <h1>Kho ƒê·ªì Huy·ªÅn Tho·∫°i ƒêang M·ªü B√°n!</h1>
            <div>
                <ul>
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="gioithieu.html">Gi·ªõi thi·ªáu</a></li>
                <li><a href="nhanvat.html">Nh√¢n V·∫≠t</a></li>
                <li><a href="diendan.html">Di·ªÖn ƒë√†n</a></li>
                <li><a href="https://www.facebook.com/people/Chi%E1%BA%BFn-Binh-R%E1%BB%93ng-Thi%C3%AAng/61576541835732/" target="_blank">Fanpage</a></li>
                <li><a href="tintuc.html">Tin t·ª©c</a></li>
                <li><a href="huongdanchoi.html">H∆∞·ªõng d·∫´n ch∆°i</a></li>
                <li><a href="choingay.html">Ch∆°i ngay</a></li>
                <li><a href="naptien.html">N·∫°p game</a></li>
                <li><a href="shop.html" id="selected">Shop r·ªìng thi√™ng</a></li>
                <li><a href="chatbot.html">Chat bot h·ªó tr·ª£</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="vinhdanh.html">Vinh danh chi·∫øn binh</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-content1">
        <div style="float:right;margin-top:5px">
            <label class="switch">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider round"></span>
            </label>
        </div>
        <h2 style="text-align: center;">Trang b·ªã m·∫°nh nh·∫•t ch·ªâ d√†nh cho chi·∫øn binh d≈©ng c·∫£m!</h2>
        <p><i><b>Kh√°m ph√° kho b√°u v·∫≠t ph·∫©m ƒë·ªôc quy·ªÅn ‚Äì m·ªói l·ª±a ch·ªçn s·∫Ω m·ªü ra m·ªôt kh·∫£ nƒÉng m·ªõi trong cu·ªôc chi·∫øn b·∫£o v·ªá v≈© tr·ª•! B·∫°n ƒë√£ s·∫µn s√†ng tr·ªü th√†nh truy·ªÅn thuy·∫øt?</b></i></p>
    </div>
    <div class="bg-content1">
      <h2>Xin ch√†o chi·∫øn binh: <span id="ten-user"></span></h2>
      <p>S·ªë Zeni hi·ªán t·∫°i: <span id="zeni-hientai">0</span></p>
      <div class="download-buttons" style="display:flex;justify-content: space-between;align-items: center;margin-top: -12px;">
          <p style="margin: 0;"class="vip">C·∫•p b·∫≠c chi·∫øn binh: <strong id="cap-bac"><span>VIP 0</span></strong></p>
          <button id="nut-dang-nhap" style="padding:5px 8px;margin-top: 0px;"></button>
      </div>
      <h2 style="margin-top: 25px;">Shop R·ªìng Thi√™ng</h2>
      <div class="thanhtimkiem">
          <input type="text" id="searchInput" placeholder="T√¨m v·∫≠t ph·∫©m..." >
      </div>
      <div class="shop-grid">
        <div class="item-card">
          <img src="images/diendan2.webp" alt="halo1">
          <h4>H√†o Quang Th·∫ßn B√≠</h4>
          <p>+5 S√°t th∆∞∆°ng | Gi√°: <strong>20000 Zeni</strong></p>
          <button onclick="muaVatPham('halo1', 20000)">Mua</button>
        </div>

        <div class="item-card">
          <img src="images/brl1.jpg" alt="shield1">
          <h4>Khi√™n NƒÉng L∆∞·ª£ng</h4>
          <p>Gi·∫£m 10% s√°t th∆∞∆°ng nh·∫≠n | Gi√°: <strong>30000 Zeni</strong></p>
          <button onclick="muaVatPham('shield1', 30000)">Mua</button>
        </div>

        <div class="item-card">
          <img src="images/goku1.png" alt="skinKaioken">
          <h4>Skin Goku Kaioken</h4>
          <p>Hi·ªáu ·ª©ng ƒë·ªè r·ª±c c·ª±c ng·∫ßu | Gi√°: <strong>50000 Zeni</strong></p>
          <button onclick="muaVatPham('skinKaioken', 50000)">Mua</button>
        </div>

        <div class="item-card">
          <img src="images/head2.webp" alt="petRong">
          <h4>R·ªìng Con H·ªó Tr·ª£</h4>
          <p>Buff +10 dmg trong 10s | Gi√°: <strong>80000 Zeni</strong></p>
          <button onclick="muaVatPham('petRong', 80000)">Mua</button>
        </div>

        <div class="item-card">
          <img src="images/quenmatkhau2.webp" alt="startHP">
          <h4>B√¨nh M√°u Kh·ªüi ƒê·∫ßu</h4>
          <p>+50 HP khi v√†o tr·∫≠n | Gi√°: <strong>100000 Zeni</strong></p>
          <button onclick="muaVatPham('startHP', 100000)">Mua</button>
        </div>

        <div class="item-card">
          <img src="images/tintuc1.webp" alt="emoVIP">
          <h4>Bi·ªÉu C·∫£m VIP</h4>
          <p>M·ªü bi·ªÉu c·∫£m ƒë·∫∑c bi·ªát | Gi√°: <strong>25000 Zeni</strong></p>
          <button onclick="muaVatPham('emoVIP', 25000)">Mua</button>
        </div>

        <div class="item-card">
          <img src="images/vgtblue.webp" alt="skinVegetaBlue">
          <h4>Skin Vegeta Blue</h4>
          <p>Bi·∫øn h√¨nh aura xanh | Gi√°: <strong>70000 Zeni</strong></p>
          <button onclick="muaVatPham('skinVegetaBlue', 70000)">Mua</button>
        </div>

        <div class="item-card">
          <img src="images/400k.png" alt="x2Zeni48h">
          <h4>Buff x2 Zeni (48h)</h4>
          <p>N·∫°p Zeni s·∫Ω x2 trong 48h | Gi√°: <strong>20000 Zeni</strong></p>
          <button onclick="muaVatPham('x2Zeni48h', 20000)">Mua</button>
        </div>
      </div>

    </div>
    <div class="bg-content1">
      <h2>üéÅ G√≥i qu√† ƒë·∫∑c quy·ªÅn VIP</h2>
      <div class="shop-grid">
        <!-- VIP 1 -->
        <div class="item-card">
          <img src="images/dangnhap1.jpg" alt="vip1gift">
          <h4>G√≥i Kh·ªüi ƒê·ªông VIP</h4>
          <p>50 Zeni + 1 b√¨nh m√°u nh·ªè</p>
          <p>Y√™u c·∫ßu: <strong>VIP 1+</strong> | Gi√°: 0 Zeni</p>
          <button onclick="nhanQuaVip('vip1gift', 1)">Nh·∫≠n mi·ªÖn ph√≠</button>
        </div>

        <!-- VIP 2 -->
        <div class="item-card">
          <img src="images/goku0.jpg" alt="vip2gift">
          <h4>G√≥i TƒÉng T·ªëc</h4>
          <p>Skin Goku th∆∞·ªùng + tƒÉng t·ªëc 5% tr·∫≠n ƒë·∫ßu</p>
          <p>Y√™u c·∫ßu: <strong>VIP 2+</strong> | Gi√°: 0 Zeni</p>
          <button onclick="nhanQuaVip('vip2gift', 2)">Nh·∫≠n mi·ªÖn ph√≠</button>
        </div>

        <!-- VIP 3 -->
        <div class="item-card">
          <img src="images/gohan1.jpg" alt="vip3gift">
          <h4>G√≥i Gohan T·ªëi Th∆∞·ª£ng</h4>
          <p>Skin Gohan + 100 Zeni</p>
          <p>Y√™u c·∫ßu: <strong>VIP 3+</strong> | Gi√°: 0 Zeni</p>
          <button onclick="nhanQuaVip('vip3gift', 3)">Nh·∫≠n mi·ªÖn ph√≠</button>
        </div>

        <!-- VIP 4 -->
        <div class="item-card">
          <img src="images/vegeta2.webp" alt="vip4gift">
          <h4>G√≥i √Åo Cho√†ng Saiyan</h4>
          <p>Skin Vegeta gi√°p xanh + pet r·ªìng xoay</p>
          <p>Y√™u c·∫ßu: <strong>VIP 4+</strong> | Gi√°: 30000 Zeni</p>
          <button onclick="muaVipGift('vip4gift', 4, 30000)">Mua</button>
        </div>

        <!-- VIP 5 -->
        <div class="item-card">
          <img src="images/diendan1.webp" alt="vip5gift">
          <h4>H√†o Quang Xanh ƒê·∫∑c Bi·ªát</h4>
          <p>Hi·ªáu ·ª©ng h√†o quang xanh + bi·ªÉu c·∫£m VIP</p>
          <p>Y√™u c·∫ßu: <strong>VIP 5+</strong> | Gi√°: 50000 Zeni</p>
          <button onclick="muaVipGift('vip5gift', 5, 50000)">Mua</button>
        </div>

        <!-- VIP 6 -->
        <div class="item-card">
          <img src="images/gblue2.jpg" alt="vip6gift">
          <h4>G√≥i Th·∫ßn S·∫•m</h4>
          <p>Skin Goku Blue + hi·ªáu ·ª©ng s·∫•m ch·ªõp</p>
          <p>Y√™u c·∫ßu: <strong>VIP 6+</strong> | Gi√°: 80000 Zeni</p>
          <button onclick="muaVipGift('vip6gift', 6, 80000)">Mua</button>
        </div>

        <!-- VIP 7 -->
        <div class="item-card">
          <img src="images/broly2.jpg" alt="vip7gift">
          <h4>G√≥i Si√™u Chi·∫øn Binh</h4>
          <p>TƒÉng 10% damage trong 5 tr·∫≠n + item ƒë·ªôc</p>
          <p>Y√™u c·∫ßu: <strong>VIP 7+</strong> | Gi√°: 100000 Zeni</p>
          <button onclick="muaVipGift('vip7gift', 7, 100000)">Mua</button>
        </div>

        <!-- VIP 8 -->
        <div class="item-card">
          <img src="images/dangnhap9.jpg" alt="vip8gift">
          <h4>G√≥i K·ªπ NƒÉng B√≠ ·∫®n</h4>
          <p>M·ªü k·ªπ nƒÉng skin b√≠ ·∫©n + 200 Zeni</p>
          <p>Y√™u c·∫ßu: <strong>VIP 8+</strong> | Gi√°: 150000 Zeni</p>
          <button onclick="muaVipGift('vip8gift', 8, 150000)">Mua</button>
        </div>

        <!-- Huy·ªÅn Tho·∫°i -->
        <div class="item-card">
          <img src="images/gohan2.webp" alt="vip10gift">
          <h4>G√≥i Huy·ªÅn Tho·∫°i T·ªëi Th∆∞·ª£ng</h4>
          <p>M·ªü to√†n b·ªô skin + 500 Zeni + hi·ªáu ·ª©ng v√†ng</p>
          <p>Y√™u c·∫ßu: <strong>üëë Huy·ªÅn Tho·∫°i</strong> | Gi√°: 300000 Zeni</p>
          <button onclick="muaVipGift('vip10gift', 9, 300000)">Mua</button>
        </div>
      </div>
    </div>
    <div class="bg-content1">
      <h2>L·ªãch s·ª≠ mua v·∫≠t ph·∫©m</h2>
      <table border="1" style="width:100%;text-align:center">
        <thead>
          <tr>
            <th>Th·ªùi gian</th>
            <th>V·∫≠t ph·∫©m</th>
            <th>Gi√° (Zeni)</th>
            <th>M√£ Code</th>
          </tr>
        </thead>
        <tbody id="lich-su-mua"></tbody>
      </table>

      <div id="toast"></div>

    </div>
    <audio id="bg-music" autoplay loop>
        <source src="sounds/phepmau.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ √¢m thanh.
    </audio>
    <button id="toggle-music" class="music-toggle-btn">üîá</button>
    <footer>
        <p style="font-style: italic;"><strong>¬© 2025 Chi·∫øn Binh R·ªìng Thi√™ng | Ph·∫°m H·∫£i ƒêƒÉng</strong></p>
    </footer>
    <script>
        const toggle = document.getElementById("darkModeToggle");

        // Khi t·∫£i trang: ki·ªÉm tra tr·∫°ng th√°i dark mode ƒë√£ l∆∞u
        if (localStorage.getItem("darkMode") === "true") {
        document.body.classList.add("dark-mode");
        toggle.checked = true;
        }

        // Khi ng∆∞·ªùi d√πng b·∫≠t/t·∫Øt dark mode
        toggle.addEventListener("change", function () {
        const isDark = toggle.checked;
        document.body.classList.toggle("dark-mode", isDark);
        localStorage.setItem("darkMode", isDark);
        });
        //audio 
        const bgMusic = document.getElementById("bg-music");
        bgMusic.volume=0.8
        const toggleMusicBtn = document.getElementById("toggle-music");

        let isMusicPlaying = localStorage.getItem("musicPlaying") !== "false"; // m·∫∑c ƒë·ªãnh l√† true

        if (!isMusicPlaying) {
          bgMusic.pause();
          toggleMusicBtn.textContent = "üîá";
        } else {
          const savedTime = sessionStorage.getItem("bgMusicTime");
          if (savedTime) {
            bgMusic.currentTime = parseFloat(savedTime);
          }
          bgMusic.play();
          toggleMusicBtn.textContent = "üîä";
        }

        toggleMusicBtn.addEventListener("click", function () {
          isMusicPlaying = !isMusicPlaying;
          if (isMusicPlaying) {
            bgMusic.play();
            toggleMusicBtn.textContent = "üîä";
          } else {
            bgMusic.pause();
            toggleMusicBtn.textContent = "üîá";
          }
          localStorage.setItem("musicPlaying", isMusicPlaying);
        });
        window.addEventListener("beforeunload", () => {
          sessionStorage.setItem("bgMusicTime", bgMusic.currentTime);
        });
        // L·∫•y d·ªØ li·ªáu ng∆∞·ªùi d√πng hi·ªán t·∫°i
        const user = JSON.parse(sessionStorage.getItem("currentUser"));
        const nutDangNhap = document.getElementById("nut-dang-nhap");
        let users = JSON.parse(localStorage.getItem("users")) || [];
        const userr = users.find(u => u.email === user?.email);

        // C·∫≠p nh·∫≠t t√™n v√† zeni hi·ªán t·∫°i
        const tenUser = document.getElementById("ten-user");
        const zeniHienTai = document.getElementById("zeni-hientai");
        if (!user) {
          tenUser.textContent = "Ch∆∞a ƒëƒÉng nh·∫≠p";
          zeniHienTai.textContent = "0";
          nutDangNhap.textContent = "ƒêƒÉng nh·∫≠p";
          nutDangNhap.onclick = () => {
            window.location.href = "dangnhap.html"; // chuy·ªÉn t·ªõi trang ƒëƒÉng nh·∫≠p
          };
        } else {
          tenUser.textContent = userr.username;
          zeniHienTai.textContent = userr.kimcuong || 0;
          let tongZeniDaNap = 0;
          try {
            userr.history.forEach(log => {
              tongZeniDaNap += log.zeni;
            });
          } catch (err) {
            tongZeniDaNap = 0;
          }
          document.getElementById("cap-bac").textContent = getCapBac(tongZeniDaNap);
          capNhatLichSu();
          nutDangNhap.textContent = "ƒêƒÉng xu·∫•t";
          nutDangNhap.onclick = logout;
        }

        // Toast th√¥ng b√°o
        function showToast(message) {
          const toast = document.getElementById("toast");
          toast.textContent = message;
          toast.className = "show";
          setTimeout(() => {
            toast.className = "hidden";
          }, 3000);
        }

        // Sinh m√£ code ng·∫´u nhi√™n
        function randomCode(length = 10) {
          const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
          let result = '';
          for (let i = 0; i < length; i++) {
            let randomIndex = parseInt(Math.random() * chars.length);
            let randomChar = chars[randomIndex];
            result += randomChar;
          }
          return result;
        }

        // Mua v·∫≠t ph·∫©m
        function muaVatPham(ma, gia) {
          if (!user) {
            showToast("‚ö†Ô∏è B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p!");
            return;
          }
          if ((userr.kimcuong || 0) < gia) {
            showToast("‚ùå Kh√¥ng ƒë·ªß Zeni!");
            return;
          }
          userr.items = userr.items || [];
          if (userr.items.find(i => i.id === ma)) {
            showToast("‚ö†Ô∏è B·∫°n ƒë√£ mua v·∫≠t ph·∫©m n√†y r·ªìi!");
            return;
          }

          const code = randomCode();
          const thoiGian = new Date().toLocaleString();

          userr.kimcuong -= gia;
          userr.items.push({ id: ma, code, gia, time: thoiGian });
          localStorage.setItem("users", JSON.stringify(users));
          zeniHienTai.textContent = userr.kimcuong;
          showToast(`‚úÖ Mua th√†nh c√¥ng! Code: ${code}`);
          capNhatLichSu();
        }

        // C·∫≠p nh·∫≠t b·∫£ng l·ªãch s·ª≠ mua
        function capNhatLichSu() {
          const tbody = document.getElementById("lich-su-mua");
          if (!userr.items) return;
          tbody.innerHTML = userr.items.map(i => `
            <tr>
              <td>${i.time}</td>
              <td>${i.id}</td>
              <td>${i.gia}</td>
              <td><button onclick="copyCode('${i.code}')">üìã Copy</button></td>
            </tr>
          `).join('');
        }

        // Copy m√£
        function copyCode(code) {
          navigator.clipboard.writeText(code);
          showToast(`‚úÖ ƒê√£ copy m√£: ${code}`);
        }
        function getCapBac(tong) {
          if (tong < 1000) return "VIP 0";
          if (tong < 5000) return "VIP 1";
          if (tong < 10000) return "VIP 2";
          if (tong < 20000) return "VIP 3";
          if (tong < 50000) return "VIP 4";
          if (tong < 100000) return "VIP 5";
          if (tong < 200000) return "VIP 6";
          if (tong < 300000) return "VIP 7";
          if (tong < 500000) return "VIP 8";
          return "üëë Huy·ªÅn Tho·∫°i R·ªìng Thi√™ng";
        }
        function getVipLevel(tong) {
          if (tong < 1000) return 0;
          if (tong < 5000) return 1;
          if (tong < 10000) return 2;
          if (tong < 20000) return 3;
          if (tong < 50000) return 4;
          if (tong < 100000) return 5;
          if (tong < 200000) return 6;
          if (tong < 300000) return 7;
          if (tong < 500000) return 8;
          return 9;
        }

        function tinhTongZeniNap() {
          let tong = 0;
          userr.history.forEach(log => tong += log.zeni);
          return tong;
        }

        function nhanQuaVip(ma, vipYeuCau) {
          if (!user) {
            showToast("‚ö†Ô∏è B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p!");
            return;
          }
          const tong = tinhTongZeniNap();
          const level = getVipLevel(tong);
          if (level < vipYeuCau) {
            showToast("‚ùå Ch∆∞a ƒë·ªß c·∫•p VIP ƒë·ªÉ nh·∫≠n g√≥i qu√† n√†y!");
            return;
          }
          userr.items = userr.items || [];
          if (userr.items.find(i => i.id === ma)) {
            showToast("‚ö†Ô∏è B·∫°n ƒë√£ nh·∫≠n g√≥i n√†y r·ªìi!");
            return;
          }

          const code = randomCode();
          const thoiGian = new Date().toLocaleString();

          userr.items.push({ id: ma, code, gia: 0, time: thoiGian });
          localStorage.setItem("users", JSON.stringify(users));
          showToast("üéÅ Nh·∫≠n g√≥i qu√† VIP th√†nh c√¥ng!");
          capNhatLichSu();
        }

        function muaVipGift(ma, vipYeuCau, gia) {
          if (!user) {
            showToast("‚ö†Ô∏è B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p!");
            return;
          }
          const tong = tinhTongZeniNap();
          const level = getVipLevel(tong);
          if (level < vipYeuCau) {
            showToast("‚ùå Ch∆∞a ƒë·ªß c·∫•p VIP ƒë·ªÉ mua g√≥i n√†y!");
            return;
          }

          if ((userr.kimcuong || 0) < gia) {
            showToast("‚ùå Kh√¥ng ƒë·ªß Zeni ƒë·ªÉ mua!");
            return;
          }
          userr.items = userr.items || [];
          if (userr.items.find(i => i.id === ma)) {
            showToast("‚ö†Ô∏è B·∫°n ƒë√£ mua g√≥i n√†y r·ªìi!");
            return;
          }

          const code = randomCode();
          const thoiGian = new Date().toLocaleString();

          userr.kimcuong -= gia;
  
          userr.items.push({ id: ma, code, gia, time: thoiGian });
          localStorage.setItem("users", JSON.stringify(users));
          zeniHienTai.textContent = userr.kimcuong;
          showToast("üéÅ Mua g√≥i VIP th√†nh c√¥ng!");
          capNhatLichSu();
        }
        function logout() {
          sessionStorage.removeItem("currentUser");
          showToast("‚úÖ ƒêƒÉng xu·∫•t th√†nh c√¥ng!");
          setTimeout(() => location.reload(), 1000); 
        }
        document.getElementById("searchInput").addEventListener("input", function () {
        const keyword = this.value.toLowerCase();
        const allDiscussions = document.querySelectorAll(".item-card");
        allDiscussions.forEach((div) => {
          const text = div.innerText.toLowerCase();
          if (text.includes(keyword)) {
            div.style.display = "block";
          } else {
            div.style.display = "none";
          }
        });
      });


    </script>
</body>
</html>