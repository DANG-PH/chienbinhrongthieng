<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chi·∫øn Binh R·ªìng Thi√™ng</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/icongame1.png" type="image/png" />
  <style>
        .bg-content{
            padding:0
        }
        *{
        box-sizing: border-box;
        }
        
        input{
        border:none;
        outline: none;
        }
        button{
            border:none;
        }
        .cont{
            overflow:hidden;
            margin:auto;
            position: relative;
            max-width: 100%;
            width: 900px;
            height: 550px;
            background: #f5f5f5;
        }
        body.dark-mode .cont{
            background: #1e1e1e
        }
        .form{
        position: relative;
        width: 640px;
        height: 100%;
        padding: 50px 30px;
        transition: transform 1.2s ease-in-out;
        }
        h2{
        width: 100%;
        font-size: 30px;
        text-align: center;
        }
        h3{
        width: 100%;
        font-size: 24px;
        text-align: center;
        }
        label{
        display: block;
        width: 260px;
        margin: 25px auto 0;
        text-align: center;
        }
        label span{
        font-size: 14px;
        font-weight: 600;
        
        text-transform: uppercase;
        }
        input{
        display: block;
        width: 100%;
        margin-top: 5px;
        font-size: 16px;
        padding-bottom: 5px;
        border-bottom: 1px solid rgba(109, 93, 93, 0.7);
        text-align: center;
        background-color:#f5f5f5;
        }
        body.dark-mode input{
            border-bottom: 1px solid #9e9e9e;
            background-color:#1e1e1e;
            color:#d4d4d4
        }
        .button1{
        display:block;
        margin: 0 auto;
        width: 260px;
        height: 36px;
        border-radius: 30px;
        font-size: 15px;
        cursor: pointer;
        color:#000000
        }
        .submit{
        margin-top: 40px;
        margin-bottom: 30px;
        text-transform: uppercase;
        font-weight: 600;
        font-family: 'Nunito', sans-serif;
        background: linear-gradient(135deg, #d4d4d4, #9e9e9e);

        }
        .submit:hover{
        background: linear-gradient(135deg, #9e9e9e,#d4d4d4);
        transform: scale(1.05);
        }
        .forgot-pass{
        margin-top: 15px;
        text-align: center;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s ;
        }
        .forgot-pass a{
            color:	#444444;
        }
        .forgot-pass a:hover{
        color:black
        }
        body.dark-mode .forgot-pass a:hover{
            color:#ffa500
        }
        .social-media img{
        width: 40px;
        height: 40px;
        }
        .social-media {
        text-align: center;
        margin-top: 20px;
        }
        .social-media ul{
        list-style: none;
        }

        .social-media ul li{
        display: inline-block;
        cursor: pointer;
        margin: 25px 15px;
        }
        .sub-cont{
        overflow:hidden;
        position: absolute;
        left: 640px;
        top: 0px;
        width: 900px;
        height: 100%;
        padding-left: 260px;
        background: #f5f5f5;
        transition: transform 1.2s ease-in-out;
        }
        body.dark-mode .sub-cont{
            background:#1e1e1e;
        }
        .cont.s-signup .sub-cont{
          transform:translate3d(-640px, 0, 0);
        }
        .img{
        overflow:hidden;
        z-index: 1;
        position: absolute;
        left: 0;
        top: 0;
        width: 260px;
        height: 100%;
        padding-top: 360px;
        }
        .img:before{
        content: '';
        position: absolute;
        right: 0;
        top: 0;
        width: 900px;
        height: 100%;
        animation: changeBg 6s infinite;
        background-size: cover;
        transition: transform 1.2s ease-in-out;
        }
        @keyframes changeBg {
        0%, 50% {
            background-image: url(images/dangnhap15.jpg);
            
        }
        55%, 100% {
            background-image: url(images/dangnhap12.jpg) ;
            
        }
        }
        .img:after{
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        }
        .cont.s-signup .img:before{
          transform:translate3d(640px, 0, 0);
        }
        .img-text{
        z-index: 1;
        position: absolute;
        left: 0;
        top: 50px;
        width: 100%;
        padding: 0 20px;
        text-align: center;
        color: #f5f5f5;
        transition: transform 1.2s ease-in-out;
        }
        .img-text h3{
        margin-bottom: 10px;
        font-weight: normal;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);
        }
        .img-text p{
        font-size: 14px;
        line-height: 1.5;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);
        }
        .img-text.m-in{
          transform:translateX(-520px);
        }
        .cont.s-signup .img-text.m-up{
          transform:translateX(520px);
        }
        .cont.s-signup .img-text.m-in{
          transform:translateX(0);
        }
        .cont.s-signup .sign-in{
          transition-timing-function:ease-in-out;
          transition-duration:1.2s; 
          transform:translate3d(640px, 0, 0);
        }
        .img-btn{
        overflow:hidden;
        z-index: 1;
        position: relative;
        width: 136px;
        height: 36px;
        margin: 0 auto;
        color:  #f5f5f5;
        text-transform: uppercase;
        border: 2px solid #f5f5f5 ;
        font-size: 15px; ;
        border-radius: 25px;
        cursor: pointer;
        }
        .img-btn span{
        position: absolute;
        left: 0;
        top: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 100%;
        transition: transform 1.2s;
        }
        .img-btn span.m-in{
          transform:translateY(-72px);
        }
        .cont.s-signup .img-btn span.m-in{
          transform:translateY(0);
        } 
        .cont.s-signup .img-btn span.m-up{
          transform:translateY(72px);
        }
        .sign-up{
          transform:translate3d(-900px, 0, 0);
        }
        .cont.s-signup .sign-up{
          transform:translate3d(0, 0, 0);
        }
        @media (max-width: 768px) {
            .cont {
                height: auto;
            }

            .form, .sub-cont {
                width: 100% !important;
                height: auto !important;
                position: static !important;
                padding: 20px;
                transform: none !important;
            }

            .img {
                width: 100%;
                height: 250px;
                position: relative;
                padding-top: 0;
                order: -1;
            }

            .img:before, .img:after {
                width: 100% !important;
                height: 100% !important;
                left: 0;
                top: 0;
                transform: none !important;
            }

            .img-text {
                top: 50%;
                transform: translateY(-50%);
                padding: 0 10px;
                font-size: 16px;
            }

            .img-btn {
                margin-top: 10px;
            }

            .img-text h3 {
                font-size: 18px;
            }

            .img-text p {
                font-size: 14px;
            }
            h2 {
                font-size: 20px;
            }
            #toast {
                padding:5px 12px;
                font-size:11px
            }
        }
        #toast {
        position: fixed;
        opacity:0;
        bottom:60%;
        left: 50%;
        transform: translateX(-50%);
        background: #9e9e9e;
        box-shadow: 0 4px 12px rgba(0,0,0,0.7);
        color: black;
        padding: 8px 20px;
        border-radius: 8px;
        font-size: 14px;
        z-index: 9999;
        transition: opacity 0.5s ease, transform 0.5s ease;
        }
        body.dark-mode #toast {
        background: rgba(0, 0, 0, 0.8);
        box-shadow: 0 4px 12px rgba(255,255,255,0.2);
        color: #fff;
        }
        #toast.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
        }
        #toast.hidden {
        opacity: 0;
        pointer-events: none;
        }

    </style>
</head>
<body>
  <div class="header">
    <div style="overflow: hidden;">
      <video autoplay muted loop playsinline preload="metadata" poster="images/gioithieu.webp" class="header-video" style="animation: vid1 10s infinite;filter: brightness(0.9)">
        <source src="images/gioithieu.webm" type="video/webm">
        <source src="images/gioithieu.mp4" type="video/mp4">
      </video>
      <video autoplay muted loop playsinline preload="metadata" poster="images/quenmatkhau2.webp" class="header-video" style="animation: vid2 10s infinite;height: 100%;filter: brightness(0.9)">
        <source src="images/quenmatkhau2.webm" type="video/webm">
        <source src="images/quenmatkhau2.mp4" type="video/mp4">
      </video>
    </div>
    <div class="overlay"></div>
        <div class="header-content" >
            <h1>Kh√¥i Ph·ª•c S·ª©c M·∫°nh</h1>
            <div>
                <ul>
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="gioithieu.html">Gi·ªõi thi·ªáu</a></li>
                <li><a href="nhanvat.html">Nh√¢n V·∫≠t</a></li>
                <li><a href="diendan.html">Di·ªÖn ƒë√†n</a></li>
                <li><a href="https://www.facebook.com/people/Chi%E1%BA%BFn-Binh-R%E1%BB%93ng-Thi%C3%AAng/61576541835732/" target="_blank">Fanpage</a></li>
                <li><a href="tintuc.html">Tin t·ª©c</a></li>
                <li><a href="huongdanchoi.html">H∆∞·ªõng d·∫´n ch∆°i</a></li>
                <li><a href="choingay.html">Ch∆°i ngay</a></li>
                <li><a href="naptien.html">N·∫°p game</a></li>
                <li><a href="shop.html">Shop r·ªìng thi√™ng</a></li>
                <li><a href="chatbot.html">Chat bot h·ªó tr·ª£</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="vinhdanh.html">Vinh danh chi·∫øn binh</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="bg-content1"style="padding-top: 1px;">
        <div style="float:right;margin-top:5px">
            <label class="switch" style="margin-top:20px;margin-right: -17px;">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider round"></span>
            </label>
        </div>
        <div style="text-align: center;margin-top:62px">
            <h2>‚ÄúKh√¥i Ph·ª•c S·ª©c M·∫°nh ‚Äì ƒê·ª´ng ƒê·ªÉ Truy·ªÅn K·ª≥ K·∫øt Th√∫c!‚Äù</h2>
            <p><i><b>Ch·ªâ m·ªôt l·∫ßn l√£ng qu√™n ‚Äì nh∆∞ng kh√¥ng ph·∫£i l√† d·∫•u ch·∫•m h·∫øt.  H√£y th·ª©c t·ªânh chi·∫øn binh trong b·∫°n, ph·ª•c h·ªìi s·ª©c m·∫°nh, v√† ti·∫øp t·ª•c vi·∫øt n√™n huy·ªÅn tho·∫°i R·ªìng Thi√™ng!</b></i></p>
        </div>
    </div>
    <div class="bg-content">
        <div class="cont">
            <div class="form sign-in">
                <h2>Qu√™n M·∫≠t Kh·∫©u</h2>
                <label>
                    <span>T√†i Kho·∫£n</span>
                    <input type="text" name="taikhoan" id="forgot-username">
                </label>
                <label>
                    <span>Email</span>
                    <input type="email" name="email" id="forgot-email">
                </label>
                <button class="submit button1" type="button" onclick="handleForgotPassword()">Kh√¥i Ph·ª•c</button>
                <p class="forgot-pass">ƒê√£ c√≥ m·∫≠t kh·∫©u ?<a href="dangnhap.html"> ƒêƒÉng nh·∫≠p</a></p>

                <div class="social-media">
                    <ul style="padding-left:0px">
                        <li><a href="http://facebook.com/anghai.325820"><img src="images/facebook.png"></a></li>
                        <li><a href="http://facebook.com/anghai.325820"><img src="images/twitter.png"></a></li>
                        <li><a href="http://facebook.com/anghai.325820"><img src="images/linkedin.png"></a></li>
                        <li><a href="http://facebook.com/anghai.325820"><img src="images/instagram.png"></a></li>
                    </ul>
                </div>
            </div>
            
            <div class="sub-cont">
                <div class="img" >
                    <div class="img-text m-up">
                    <h3>S·ª©c m·∫°nh trong b·∫°n v·∫´n ch∆∞a bi·∫øn m·∫•t!<h3>
                    <p>H√£y kh√¥i ph·ª•c t√†i kho·∫£n v√† tr·ªü l·∫°i m·∫°nh m·∫Ω h∆°n bao gi·ªù h·∫øt!</p>
                    </div>
                    <div class="img-text m-in">
                    <h3>T√°i t·∫°o ni·ªÅm tin ‚Äì t√°i l·∫≠p s·ª©c m·∫°nh!</h3>
                    <p>H√£y m·ªü c√°nh c·ªïng s·ª©c m·∫°nh ‚Äì cu·ªôc h√†nh tr√¨nh v·∫´n ƒëang ch·ªù ƒë·ª£i b·∫°n!</p>
                    </div>
                    <div class="img-btn">
                    <span class="m-up">ƒê·ªïi M·∫≠t Kh·∫©u</span>
                    <span class="m-in">Qu√™n M·∫≠t Kh·∫©u</span>
                    </div>
                </div>
                <div class="form sign-up">
                    <h2>ƒê·ªïi M·∫≠t Kh·∫©u</h2>
                    <label>
                    <span>Email</span>
                    <input type="email" id="reset-email">
                    </label>
                    <label>
                    <span>M·∫≠t kh·∫©u</span>
                    <input type="password" id="reset-oldpass">
                    </label>
                    <label>
                    <span>M·∫≠t kh·∫©u m·ªõi</span>
                    <input type="password" id="reset-newpass">
                    </label>
                    <label>
                    <span>X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi</span>
                    <input type="password" id="reset-confirm">
                    </label>
                    <button type="button" class="submit button1" onclick="handleResetPassword()">Thi·∫øt L·∫≠p M·∫≠t Kh·∫©u</button>
            </div>
        </div>
    </div>
    <audio id="bg-music" autoplay loop>
        <source src="sounds/op1.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ √¢m thanh.
    </audio>
    <button id="toggle-music" class="music-toggle-btn">üîá</button>
    <footer>
        <p style="font-style: italic;"><strong>¬© 2025 Chi·∫øn Binh R·ªìng Thi√™ng | Ph·∫°m H·∫£i ƒêƒÉng</strong></p>
    </footer>
    <script>
        const toggle = document.getElementById("darkModeToggle");

        // Khi t·∫£i trang: ki·ªÉm tra tr·∫°ng th√°i dark mode ƒë√£ l∆∞u
        if (localStorage.getItem("darkMode") === "true") {
        document.body.classList.add("dark-mode");
        toggle.checked = true;
        }

        // Khi ng∆∞·ªùi d√πng b·∫≠t/t·∫Øt dark mode
        toggle.addEventListener("change", function () {
        const isDark = toggle.checked;
        document.body.classList.toggle("dark-mode", isDark);
        localStorage.setItem("darkMode", isDark);
        });
        //audio 
        const bgMusic = document.getElementById("bg-music");
        bgMusic.volume=0.8
        const toggleMusicBtn = document.getElementById("toggle-music");

        let isMusicPlaying = localStorage.getItem("musicPlaying") !== "false"; // m·∫∑c ƒë·ªãnh l√† true

        if (!isMusicPlaying) {
          bgMusic.pause();
          toggleMusicBtn.textContent = "üîá";
        } else {
          const savedTime = sessionStorage.getItem("bgMusicTime");
          if (savedTime) {
            bgMusic.currentTime = parseFloat(savedTime);
          }
          bgMusic.play();
          toggleMusicBtn.textContent = "üîä";
        }

        toggleMusicBtn.addEventListener("click", function () {
          isMusicPlaying = !isMusicPlaying;
          if (isMusicPlaying) {
            bgMusic.play();
            toggleMusicBtn.textContent = "üîä";
          } else {
            bgMusic.pause();
            toggleMusicBtn.textContent = "üîá";
          }
          localStorage.setItem("musicPlaying", isMusicPlaying);
        });
        window.addEventListener("beforeunload", () => {
          sessionStorage.setItem("bgMusicTime", bgMusic.currentTime);
        });
        document.querySelector('.img-btn').addEventListener('click', function()
        {
            document.querySelector('.cont').classList.toggle('s-signup')
        }
        );
        function handleResetPassword() {
            const email = document.getElementById("reset-email").value.trim();
            const oldpass = document.getElementById("reset-oldpass").value;
            const newpass = document.getElementById("reset-newpass").value;
            const confirm = document.getElementById("reset-confirm").value;

            const users = JSON.parse(localStorage.getItem("users")) || [];
            const user = users.find(u => u.email===email);
            if (!email || !oldpass || !newpass || !confirm) {
                showToast("‚ö†Ô∏è Thi·∫øu d·ªØ li·ªáu! H√£y ho√†n thi·ªán th√¥ng tin ƒë·ªÉ t√°i l·∫≠p s·ª©c m·∫°nh.");
                return;
            }

            if (!user || user.password !== oldpass) {
                showToast("‚ùå K·∫øt n·ªëi th·∫•t b·∫°i ‚Äì th√¥ng tin kh√¥ng kh·ªõp v·ªõi chi·∫øn binh tr∆∞·ªõc ƒë√≥.");
                return;
            }

            if (newpass !== confirm) {
                showToast("‚ö†Ô∏è S·ª©c m·∫°nh kh√¥ng ·ªïn ƒë·ªãnh ‚Äì m·∫≠t kh·∫©u x√°c nh·∫≠n ch∆∞a tr√πng kh·ªõp.");
                return;
            }

            user.password = newpass;
            localStorage.setItem("users", JSON.stringify(users));
            showToast("‚úÖ S·ª©c m·∫°nh t√°i sinh th√†nh c√¥ng! ƒê√£ ƒë·∫øn l√∫c quay l·∫°i chi·∫øn tr∆∞·ªùng!");
            setTimeout(()=>{
                    window.location.href = "dangnhap.html";
            },2000)
        }
        function showToast(message) {
            const toast = document.getElementById("toast");
            toast.textContent = message;
            toast.className = "show";
            setTimeout(() => {
                toast.className = "hidden";
            }, 3000); // bi·∫øn m·∫•t sau 3 gi√¢y
        }
        function handleForgotPassword() {
            const username = document.getElementById("forgot-username").value.trim();
            const email = document.getElementById("forgot-email").value.trim();

            if (!username || !email) {
                showToast("‚ö†Ô∏è Thi·∫øu th√¥ng tin! Chi·∫øn binh c·∫ßn nh·∫≠p ƒë·∫ßy ƒë·ªß ƒë·ªÉ kh√¥i ph·ª•c s·ª©c m·∫°nh.");
                return;
            }

            const users = JSON.parse(localStorage.getItem("users")) || [];
            const user = users.find(u => u.username === username && u.email === email);

            if (!user) {
                showToast("‚ùå Kh√¥ng t√¨m th·∫•y chi·∫øn binh n√†o kh·ªõp v·ªõi th√¥ng tin tr√™n!");
                return;
            }

            showToast(`‚úÖ M·∫≠t kh·∫©u c·ªßa chi·∫øn binh ${user.username} l√†: ${user.password}`);
            setTimeout(()=>{
                showToast("‚úÖ X√°c th·ª±c th√†nh c√¥ng ‚Äì Chi·∫øn binh, h√£y thi·∫øt l·∫≠p m·∫≠t kh·∫©u m·ªõi ƒë·ªÉ s·∫µn s√†ng b∆∞·ªõc v√†o tr·∫≠n chi·∫øn k·∫ø ti·∫øp!")
                document.querySelector('.cont').classList.add('s-signup'); 
            },4000)
        }

    </script>
    <div id="toast"></div>
</body>
</html>