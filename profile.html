<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chi·∫øn Binh R·ªìng Thi√™ng</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/icongame1.png" type="image/png" />
  <style>
    #nv-popup-online{
      position:fixed;
      display:none;
      top:50%;
      left:50%;
      transform:translate(-50%,-50%);
      padding:20px;
      border-radius:12px;
      z-index:1001;
      max-width:845px;
      background-color: #333;
      box-shadow: 0 0 8px rgba(255,255,255,0.6);
    }
    body:not(.dark-mode) #nv-popup-online{
      background-color: 	#f8f6f1;
      box-shadow: 0 0 12px rgba(0,0,0,0.4);
    }
    .nv-online-grid {
      display: grid;
      grid-template-columns: repeat(1, 1fr);
      width: 760px;
      gap: 15px;
      margin-top: 15px;
      height:450px;
      overflow-y: auto;
      scrollbar-width: none;
      }
    .nv-online-item {
      display: flex;
      border-radius: 10px;
      padding: 10px;
      background: rgba(30,30,30,0.75);
      box-shadow: 0 0 8px rgba(255,255,255,0.2);
      align-items: center;
    }
    .nv-online-item p{
      margin-left: 15px  ;
      margin-top: -8px;
      margin-bottom: 5px;
    }
    .nv-online-item h3{
      color:#ffa500;
      margin-top:4px;
      margin-left:15px
    }
    .nv-nhan-thuong{
      display:flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
    }
    .nv-nhan-thuong button{
      margin:0;
      font-size: 12px;
      padding:10px 16px
    }
    .nv-nhan-thuong p{
      margin:0;
      margin-left:15px
    }
    body:not(.dark-mode) .nv-online-item h3{
      color:black
    }
    .nv-online-item:hover{
      transform:translateY(-2px);
      box-shadow: 0px 0px 20px rgba(255,165,0,0.5);
      transition:.25s
    }
    body:not(.dark-mode) .nv-online-item{
      background: #fffaf0;
      border: 1px solid rgba(0, 0, 0, 0.2);
      box-shadow: 0 0px 8px rgba(0, 0, 0, 0.08); 
    }
    body:not(.dark-mode) .nv-online-item:hover{
      box-shadow: 0 0 20px rgba(100,100,255,0.8);
      transition:.25s
    }
    .nv-online-item img {
    width: 20%;
    height: 100px;
    border-radius: 8px;
    }
    .box-chua-nv{
      width: 80%;
    }
    body:not(.dark-mode) #nv-bar{
      background:#1976d2 !important;
    }
    #popup-online{
      position:fixed;
      display:none;
      top:50%;
      left:50%;
      transform:translate(-50%,-50%);
      padding:20px;
      border-radius:12px;
      z-index:1001;
      max-width:845px;
      padding-right:0px;
      background-color: #333;
      box-shadow: 0 0 8px rgba(255,255,255,0.6);
    }
    body:not(.dark-mode) #popup-online{
      background-color: 	#f8f6f1;
      box-shadow: 0 0 12px rgba(0,0,0,0.4);
    }
    .online-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      width: 860px;
      gap: 15px;
      margin-top: 15px;
      }
    .online-item {
      border-radius: 10px;
      text-align: center;
      padding: 10px;
      background: rgba(30,30,30,0.75);
      box-shadow: 0 0 8px rgba(255,255,255,0.2);
    }
    .online-item:hover{
      transform:translateY(-5px);
      box-shadow: 0px 0px 20px rgba(255,165,0,0.5);
      transition:.25s
    }
    body:not(.dark-mode) .online-item{
      box-shadow: 0 0 12px rgba(0,0,0,0.4);
      background: #fffaf0
    }
    body:not(.dark-mode) .online-item:hover{
      box-shadow: 0 0 20px rgba(100,100,255,0.8);
      transition:.25s
    }
    .online-item img {
    width: 100%;
    height: 100px;
    object-fit: cover;
    border-radius: 8px;
    }

    .online-item button {
      margin-top: 12px;
      padding: 6px 12px;
      font-weight: bold;
      
    }

    .online-item p {
      margin-top: 5px;
      font-size: 14px;
    }

    .online-item.large {
      grid-column: 4 / -1;
      grid-row: 1 / 3;
      width:280px;
    }
    .online-item.large img{
      height:200px
    }
    .online-item.large button{
      padding:10px 110px;
      margin-top:30px
    }

    .vip strong{
      color:#1976d2
    }
    body.dark-mode .vip strong{
      color:#ffa500;
    }
    #toast {
    position: fixed;
    opacity:0;
    bottom:66%;
    left: 50%;
    transform: translateX(-50%);
    background: #9e9e9e;
    box-shadow: 0 4px 12px rgba(0,0,0,0.7);
    color: black;
    padding: 8px 20px;
    border-radius: 8px;
    font-size: 14px;
    z-index: 9999;
    transition: opacity 0.5s ease, transform 0.5s ease;
    }
    body.dark-mode #toast {
    background: rgba(0, 0, 0, 0.8);
    box-shadow: 0 4px 12px rgba(255,255,255,0.2);
    color: #fff;
    }
    #toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    }
    #toast.hidden {
    opacity: 0;
    pointer-events: none;
    }
    .avatar-frame {
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid transparent;
    }

    .vip-frame-0 { border-color: gray; }
    .vip-frame-1 { border-color: #ffeb3b; box-shadow: 0 0 6px #ffeb3b}
    .vip-frame-2 { border-color: #ffc107; box-shadow: 0 0 8px #ffc107 }
    .vip-frame-3 { border-color: gold; box-shadow: 0 0 10px gold }
    .vip-frame-4 { border-color: #ff1744;box-shadow: 0 0 12px #ff1744 }
    .vip-frame-5 { border-color: #2979ff; box-shadow: 0 0 12px #2979ff ;animation: glow-vip5 2.5s infinite;}
    .vip-frame-6 { border-color: #ec407a;box-shadow: 0 0 12px #ec407a ;animation: glow-vip6 2.5s infinite;}
    .vip-frame-7 { border-color: #b2ebf2; box-shadow: 0 0 12px #b2ebf2 ;animation: glow-vip7 2.5s infinite;}
    .vip-frame-8 { border-color: #00e5ff; box-shadow: 0 0 12px #00e5ff ;animation: glow-vip8 2.5s infinite;}
    .legendary-frame {
      border-color: #B0F1FF;
      box-shadow: 0 0 25px #B0F1FF	;
      animation: glow-pulse 2s infinite;

    }
    body.dark-mode .legendary-frame {
      border-color: #ffffff;
      box-shadow: 0 0 25px #ffffff;
      animation: glow-pulse1 2s infinite;
      
    }
    @keyframes glow-vip5 {
      0% { box-shadow: 0 0 7px #2979ff; }
      50% { box-shadow: 0 0 21px #2979ff; }
      100% { box-shadow: 0 0 7px #2979ff; }
    }
    @keyframes glow-vip6 {
      0% { box-shadow: 0 0 9px #ec407a; }
      50% { box-shadow: 0 0 24px #ec407a; }
      100% { box-shadow: 0 0 9px #ec407a; }
    }
    @keyframes glow-vip7 {
      0% { box-shadow: 0 0 10px #b2ebf2; }
      50% { box-shadow: 0 0 28px #b2ebf2; }
      100% { box-shadow: 0 0 10px #b2ebf2; }
    }
    @keyframes glow-vip8 {
      0% { box-shadow: 0 0 10px #00e5ff; }
      50% { box-shadow: 0 0 32px #00e5ff; }
      100% { box-shadow: 0 0 10px #00e5ff; }
    }
    @keyframes glow-pulse {
      0% {
        transform: scale(1);
        box-shadow:0 0 15px #00e5ff
      }
      50% {
        transform: scale(1.03);
        box-shadow:0 0 45px #00e5ff
      }
      100% {
        transform: scale(1);
        box-shadow:0 0 15px #00e5ff
      }
    }
  @keyframes glow-pulse1 {
    0% {
      transform: scale(1);
      box-shadow: 0 0 15px #ffffff;
    }
    50% {
      transform: scale(1.03);
      box-shadow: 0 0 45px #ffffff;
    }
    100% {
      transform: scale(1);
      box-shadow: 0 0 15px #ffffff;
    }
  }

    /*  */
    .badge {
    display: inline-block;
    background: linear-gradient(to right, #ffcc00, #ff9900);
    color: white;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 13px;
    margin: 3px;
    box-shadow: 0 2px 15px rgba(255,165,0,0.5);
    }
    #notification-popup {
      background-color: #fff;  
      color: #000;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3); 
    }
    body.dark-mode #notification-popup {
      background-color: rgba(0, 0, 0, 0.85);
      color: #eee;
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
    }
    #notification-popup a{
      color:#2979ff
    }
    body.dark-mode #notification-popup a{
      color:#ffa500
    }
    #form-nhap-code {
      display: none;
      position:fixed;
      top:50%;
      left:50%;
      transform:translate(-50%,-50%);
      background:#ffffff;
      padding:24px 20px;
      border-radius:15px;
      z-index:1001;
      max-width:400px;
      width:90%;
      box-shadow:0 8px 20px rgba(0,0,0,0.4);
      font-family:'Segoe UI',sans-serif;
    }

    #code-input{
      width:100%;
      padding:10px 12px;
      margin-top:8px;
      border:2px solid #ccc;
      border-radius:8px;font-size:14px;
    }
    body.dark-mode #form-nhap-code {
      background-color: #2e2e2e;  /* x√°m t·ªëi v·ª´a ph·∫£i */
    }
    body.dark-mode #code-input {
      background-color: #3a3a3a;
      color: #fff;
      border: 2px solid #777; 
      box-shadow: 0 0 4px rgba(255,255,255,0.1);
      outline-color: #888;
    }
    body.dark-mode #code-input::placeholder {
      color: #bbb;
    }

  
    @media (max-width: 768px) {
        table{
            font-size:11px;
        }
        button {
            font-size:10px;
            padding:6px 12px
        }
        .vbar {
            height:12px !important;
        }
        #avatar-nguoi-choi{
            width:100px !important;
            height: 100px !important;
        }
        .badge{
          font-size: 10px;
        }
        #popup-online{
          padding-right:20px;
          height:625px;
        }
        .online-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          width: 350px;
          height:400px;
          gap: 12px;
        }
        .online-item{
          height:122px;
          padding:2px;
        }
        .online-item img{
          height:70px;
        }
        .online-item.large {
          grid-column: 1 / -1; /* chi·∫øm to√†n b·ªô h√†ng */
          grid-row: 3;
          width: 100%;
          height:285px
        }
        .online-item.large button{
          width: 150px !important;
          padding:6px !important;
        }
        .online-item.large img{
          height: 170px !important;
        }
        .online-item button{
          font-size:8px;
          padding:4px 9px;
          margin-top:0px !important;
        }
        .online-item p{
          font-size:9px !important;
        }

        .online-item.large img {
          height: 160px;
          object-fit: cover;
        }

        .online-item.large button {
          width: 100%;
          padding: 12px 0;
          margin-top: 12px;
        }

        .online-item.large p {
          font-size: 13px;
          line-height: 1.4;
        }
        #nv-popup-online{
          width: 400px !important;
          padding:10px;
        }
        .nv-online-grid {
          width: 380px;
          height:380px;
          gap: 12px;
        }
        .nv-online-item{
          height:105px
        }
        .nv-online-item img{
          width: 25%;
          height:85px
        }
        .nv-online-item button{
          font-size: 9px;
          padding:7px 12px
        }
        .nvbar {
          height:12px !important;
        }
        #mediaht{
          width: 20% !important;
          margin-right: 20px;
        }
      }


  </style>
</head>
<body>
  <div class="header">
    <div style="overflow: hidden;">
      <video autoplay muted loop playsinline preload="metadata" poster="images/quenmatkhau2.webp" class="header-video" style="animation: vid1 10s infinite;height:100%;filter: brightness(0.9)">
        <source src="images/quenmatkhau2.webm" type="video/webm">
        <source src="images/quenmatkhau2.mp4" type="video/mp4">
      </video>
      <video autoplay muted loop playsinline preload="metadata" poster="images/tintuc2.webp" class="header-video" style="animation: vid2 10s infinite;filter: brightness(0.9)">
        <source src="images/tintuc2.webm" type="video/webm">
        <source src="images/tintuc2.mp4" type="video/mp4">
      </video>
    </div>
    <div class="overlay"></div>
        <div class="header-content" >
            <h1>Profile Chi·∫øn Binh!</h1>
            <div>
              <ul>
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="gioithieu.html">Gi·ªõi thi·ªáu</a></li>
                <li><a href="nhanvat.html">Nh√¢n V·∫≠t</a></li>
                <li><a href="diendan.html">Di·ªÖn ƒë√†n</a></li>
                <li><a href="https://www.facebook.com/people/Chi%E1%BA%BFn-Binh-R%E1%BB%93ng-Thi%C3%AAng/61576541835732/" target="_blank">Fanpage</a></li>
                <li><a href="tintuc.html">Tin t·ª©c</a></li>
                <li><a href="huongdanchoi.html">H∆∞·ªõng d·∫´n ch∆°i</a></li>
                <li><a href="choingay.html">Ch∆°i ngay</a></li>
                <li><a href="naptien.html">N·∫°p game</a></li>
                <li><a href="shop.html">Shop r·ªìng thi√™ng</a></li>
                <li><a href="chatbot.html">Chat bot h·ªó tr·ª£</a></li>
                <li><a href="profile.html" id="selected">Profile</a></li>
                <li><a href="vinhdanh.html">Vinh danh chi·∫øn binh</a></li>
              </ul>
            </div>
        </div>
    </div>
    <div class="bg-content1">
        <div style="float:right;margin-top:5px">
            <label class="switch">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider round"></span>
            </label>
        </div>
        <h2>Truy·ªÅn Thuy·∫øt R·ªìng Thi√™ng B·∫Øt ƒê·∫ßu T·ª´ B·∫°n</h2>
        <p><i><b>Kh√¥ng ph·∫£i ai c≈©ng ƒë·ªß s·ª©c m·∫°nh ƒë·ªÉ vi·∫øt n√™n huy·ªÅn tho·∫°i... Nh∆∞ng b·∫°n ƒëang l√†m ƒëi·ªÅu ƒë√≥ ngay l√∫c n√†y!</b></i></p>
    </div>
    <div class="bg-content1">
        <h2>Th√¥ng tin ng∆∞·ªùi ch∆°i</h2>
        <div style="text-align:center; margin-bottom:10px;">
            <img id="avatar-nguoi-choi" class="avatar-frame" src="images/head1.webp" style="width:140px; height:140px;">
        </div>
        <p>T√™n t√†i kho·∫£n: <strong id="ten-nguoi-choi">...</strong></p>
        <p>S·ªë Zeni hi·ªán c√≥: <strong id="kc-hientai">0</strong></p>
        <p class="vip">C·∫•p b·∫≠c chi·∫øn binh: <strong id="cap-bac"><span>VIP 0</span></strong></p>
        <div id="danh-hieu" style="margin:10px 0;"></div>
        <div style="margin-top:10px;">
            <div class="vbar"style="background:#ccc; width:100%; height:20px; border-radius:10px; overflow:hidden;">
                <div id="vip-bar" style="height:100%; width:0%; background:#f90;"></div>
            </div>
            <p id="vip-next" style="margin-top:5px;font-style: italic;">H√£y n·∫°p Zeni ƒë·ªÉ l√™n VIP , thay ƒë·ªïi avatar v√† s·ªü h·ªØu nhi·ªÅu ƒë·∫∑c quy·ªÅn kh√°c nh√© chi·∫øn binh !</p>
        </div>
        <!-- N√∫t m·ªü form -->
        <div style="display:flex;justify-content: space-between;padding: 0;margin: 0px;">
          <button id="nut-dang-nhap" style="margin-top: 10px;">ƒêƒÉng nh·∫≠p</button>
          <button class="download-buttons"onclick="hienNhapCode()">üîë Nh·∫≠p m√£ ƒë·ªïi th∆∞·ªüng</button>
        </div>
        <div style="display:flex;justify-content: space-between;padding: 0;margin: 0px;">
          <button onclick="hienPopupOnline()">üéÅ Nh·∫≠n qu√† online</button>
          <button onclick="hienNhiemvuHangNgay()">üéÅ Nhi·ªám v·ª• h·∫±ng ng√†y</button>
        </div>
    </div>
    <!-- Overlay n·ªÅn m·ªù -->
    <div id="overlay-online" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:1000;"></div>

    <!-- Popup ph·∫ßn qu√† online -->
    <div id="popup-online">
      <button onclick="anPopupOnline()" style="position:absolute;top:10px;right:10px;background:none;border:none;font-size:18px;box-shadow:none">‚ùå</button>
      <h3 style="text-align:center;margin-top:0;">üéÅ Qu√† online h·∫±ng ng√†y</h3>
      <div class="online-grid">
        <div class="online-item"><img src="images/ol1.png"><button onclick="nhanThuongMoc(10)">Nh·∫≠n</button><p>10 ph√∫t</p></div>
        <div class="online-item"><img src="images/ol2.png"><button onclick="nhanThuongMoc(20)">Nh·∫≠n</button><p>20 ph√∫t</p></div>
        <div class="online-item"><img src="images/ol3.png"><button onclick="nhanThuongMoc(40)">Nh·∫≠n</button><p>40 ph√∫t</p></div>
        <div class="online-item"><img src="images/ol3.png"><button onclick="nhanThuongMoc(70)">Nh·∫≠n</button><p>70 ph√∫t</p></div>
        <div class="online-item"><img src="images/ol4.png"><button onclick="nhanThuongMoc(100)">Nh·∫≠n</button><p>100 ph√∫t</p></div>
        <div class="online-item"><img src="images/ol4.png"><button onclick="nhanThuongMoc(140)">Nh·∫≠n</button><p>140 ph√∫t</p></div>

        <div class="online-item large">
          <img src="images/ol5.png">
          <button onclick="nhanThuongMoc(180)">Nh·∫≠n</button>
          <p>180 ph√∫t</p>
          <p>üéâ Ph·∫ßn th∆∞·ªüng t·ªëi ƒëa trong ng√†y! <br> Nh·∫≠n ngay 7250 Zeni khi online 180 ph√∫t!</p>
          <p id="online-time"><i></i></p>
        </div>
      </div>
    </div>
    <!-- Overlay n·ªÅn m·ªù -->
    <div id="nv-overlay-online" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:1000;"></div>

    <div id="nv-popup-online">
      <button onclick="anNhiemvuHangNgay()" style="position:absolute;top:10px;right:10px;background:none;border:none;font-size:18px;box-shadow:none">‚ùå</button>
      <h3 style="text-align:center;margin-top:0;">üéÅ Nhi·ªám V·ª• H·∫±ng Ng√†y</h3>
      <div class="nv-online-grid">
        <div class="nv-online-item">
          <img src="images/nhanvat1.webp">
          <div class="box-chua-nv">
            <h3>Th·∫•u hi·ªÉu nh√¢n v·∫≠t</h3>
            <p>Kh√°m ph√° h·ªì s∆° nh√¢n v·∫≠t ‚Äì n∆°i ·∫©n ch·ª©a b√≠ m·∫≠t s·ª©c m·∫°nh v√† ti·ªÅm nƒÉng v√¥ h·∫°n!</p>
            <div class="nv-nhan-thuong">
              <p>Nh·∫≠n th∆∞·ªüng : <span class="vip"><strong>2000 Zeni !</strong></span></p>
              <button>Nh·∫≠n th∆∞·ªüng</button>
            </div>
          </div>
        </div>
        <div class="nv-online-item">
          <img src="images/diendan1.webp">
          <div class="box-chua-nv">
            <h3>Th·∫£o lu·∫≠n chi·∫øn binh</h3>
            <p>T∆∞∆°ng t√°c di·ªÖn ƒë√†n chi·∫øn binh, chia s·∫ª chi·∫øn thu·∫≠t v√† truy·ªÅn c·∫£m h·ª©ng b·∫•t t·∫≠n!</p>
            <div class="nv-nhan-thuong">
              <p>Nh·∫≠n th∆∞·ªüng : <span class="vip"><strong>3000 Zeni !</strong></span></p>
              <button>Nh·∫≠n th∆∞·ªüng</button>
            </div>
          </div>
        </div>
        <div class="nv-online-item">
          <img src="images/tintuc2.webp">
          <div class="box-chua-nv">
            <h3>N·∫Øm r√µ chi·∫øn thu·∫≠t</h3>
            <p>V√†o trang tin t·ª©c v√† c·∫≠p nh·∫≠t meta m·ªõi nh·∫•t!</p>
            <div class="nv-nhan-thuong">
              <p>Nh·∫≠n th∆∞·ªüng : <span class="vip"><strong>2000 Zeni !</strong></span></p>
              <button>Nh·∫≠n th∆∞·ªüng</button>
            </div>
          </div>
        </div>
        <div class="nv-online-item">
          <img src="images/choingay1.webp">
          <div class="box-chua-nv">
            <h3>B·∫Øt ƒë·∫ßu cu·ªôc chi·∫øn !</h3>
            <p>Chi·∫øn ƒë·∫•u kh√¥ng ch·∫ßn ch·ª´ ‚Äì h√£y lao v√†o tr·∫≠n chi·∫øn v√† kh·∫≥ng ƒë·ªãnh b·∫£n lƒ©nh!</p>
            <div class="nv-nhan-thuong">
              <p>Nh·∫≠n th∆∞·ªüng : <span class="vip"><strong>5000 Zeni !</strong></span></p>
              <button>Nh·∫≠n th∆∞·ªüng</button>
            </div>
          </div>
        </div>
        <div class="nv-online-item">
          <img src="images/vid1.webp">
          <div class="box-chua-nv">
            <h3>ƒê·ªông l·ª±c l√† s·ª©c m·∫°nh</h3>
            <p>Chi·∫øn binh huy·ªÅn tho·∫°i kh√¥ng ch·ªâ chi·∫øn ƒë·∫•u gi·ªèi, m√† c√≤n ƒë·ªÉ l·∫°i d·∫•u ·∫•n r·ª±c r·ª° trong l·ªãch s·ª≠! - V√†o trang Vinh Danh</p>
            <div class="nv-nhan-thuong">
              <p>Nh·∫≠n th∆∞·ªüng : <span class="vip"><strong>2000 Zeni !</strong></span></p>
              <button>Nh·∫≠n th∆∞·ªüng</button>
            </div>
          </div>
        </div>
        <div class="nv-online-item">
          <img src="images/goku2.jpg">
          <div class="box-chua-nv">
            <h3>Kh√≠ ch·∫•t c·ªßa th·∫ßn</h3>
            <p>N·∫°p ti·ªÅn l·∫ßn ƒë·∫ßu trong ng√†y, tƒÉng c∆∞·ªùng s·ª©c m·∫°nh, n√¢ng c·∫•p ƒë·ªôt ph√°, m·ªü kho√° k·ªπ nƒÉng b√° ƒë·∫°o!</p>
            <div class="nv-nhan-thuong">
              <p>Nh·∫≠n th∆∞·ªüng : <span class="vip"><strong>10000 Zeni !</strong></span></p>
              <button>Nh·∫≠n th∆∞·ªüng</button>
            </div>
          </div>
        </div>
      </div>
      <div style="margin-top: 20px;display:flex;align-items: center;">
        <div id="mediaht" style="width:16%;text-align: center;">
          <p>Ho√†n th√†nh</p>
          <p id="nv-so-hoan-thanh">0%</p>
        </div>
        <div class="nvbar"style="background:#ccc; width:84%; height:20px; border-radius:10px; overflow:hidden">
          <div id="nv-bar" style="height:100%; width:0%; background:#f90;"></div>
        </div>
      </div>
    </div>
    <div class="bg-content1">
    <h2>L·ªãch s·ª≠ n·∫°p Zeni g·∫ßn ƒë√¢y</h2>
    <table border="1" style="width:100%;text-align:center">
        <thead>
        <tr>
            <th>Th·ªùi gian</th>
            <th>S·ªë Zeni</th>
            <th>VNƒê</th>
        </tr>
        </thead>
        <tbody id="lich-su-nap"></tbody>
    </table>
    </div>
    <div class="bg-content1">
    <h2>üéí V·∫≠t ph·∫©m ƒë√£ s·ªü h·ªØu</h2>
    <table border="1" style="width:100%;text-align:center">
        <thead>
        <tr>
            <th>Th·ªùi gian</th>
            <th>V·∫≠t ph·∫©m</th>
            <th>Gi√° (Zeni)</th>
            <th>M√£ Code</th>
        </tr>
        </thead>
        <tbody id="lich-su-item"></tbody>
    </table>
    </div>
    <!-- Overlay n·ªÅn m·ªù -->
    <div id="overlay" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:1000;"></div>

    <!-- Popup nh·∫≠p code -->
    <div id="form-nhap-code" >
      <button onclick="anNhapCode()" style="position:absolute;top:10px;right:5px;background:none;border:none;font-size:10px;cursor:pointer;box-shadow:none">‚ùå</button>
      <h3 style="margin:0 0 15px 0;text-align:center;font-size:20px;">üéÅ Nh·∫≠p m√£ Code ƒë·ªïi th∆∞·ªüng</h3>
      <input id="code-input" type="text" placeholder="Nh·∫≠p m√£ code..."  />
      <button onclick="doiCode()" style="margin-top:15px;width:100%;padding:10px;border:none;border-radius:8px;font-size:16px;cursor:pointer;">ƒê·ªïi m√£ ngay</button>
    </div>
    <audio id="bg-music" autoplay loop>
        <source src="sounds/phepmau.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ √¢m thanh.
    </audio>
    <button id="toggle-music" class="music-toggle-btn">üîá</button>
    <footer>
        <p style="font-style: italic;"><strong>¬© 2025 Chi·∫øn Binh R·ªìng Thi√™ng | Ph·∫°m H·∫£i ƒêƒÉng</strong></p>
    </footer>
    <div id="toast"></div>
    <!-- N√∫t chu√¥ng th√¥ng b√°o -->
    <div id="notification-bell" style="position:fixed;top:20px;right:20px;z-index:1100;cursor:pointer;">
      üîî
    </div>

    <!-- Popup th√¥ng b√°o -->
    <div id="notification-popup"style="display:none;position:fixed;top:70px;right:20px;width:280px;padding:15px;border-radius:10px;z-index:1101;">
      <h3 style="margin-top:0;margin-bottom:10px;font-size:16px;">üîî Th√¥ng b√°o</h3>
      <ul style="padding-left:18px;margin:0;font-size:14px;">
        <li>üéñ B·∫°n ƒë√£ ƒë·∫°t c·∫•p VIP m·ªõi? Ki·ªÉm tra ngay!</li>
        <li>üõí ƒê·ª´ng b·ªè l·ª° khuy·∫øn m√£i t·∫°i <a href="shop.html">Shop R·ªìng Thi√™ng</a>.</li>
        <li>üì£ H√£y c·∫≠p nh·∫≠t h·ªì s∆° c·ªßa b·∫°n trong ph·∫ßn <a href="profile.html">Profile</a>.</li>
      </ul>
    </div>

    <script>
        const toggle = document.getElementById("darkModeToggle");

        // Khi t·∫£i trang: ki·ªÉm tra tr·∫°ng th√°i dark mode ƒë√£ l∆∞u
        if (localStorage.getItem("darkMode") === "true") {
        document.body.classList.add("dark-mode");
        toggle.checked = true;
        }

        // Khi ng∆∞·ªùi d√πng b·∫≠t/t·∫Øt dark mode
        toggle.addEventListener("change", function () {
        const isDark = toggle.checked;
        document.body.classList.toggle("dark-mode", isDark);
        localStorage.setItem("darkMode", isDark);
        });
        //audio 
        const bgMusic = document.getElementById("bg-music");
        bgMusic.volume=0.8
        const toggleMusicBtn = document.getElementById("toggle-music");

        let isMusicPlaying = localStorage.getItem("musicPlaying") !== "false"; // m·∫∑c ƒë·ªãnh l√† true

        if (!isMusicPlaying) {
          bgMusic.pause();
          toggleMusicBtn.textContent = "üîá";
        } else {
          const savedTime = sessionStorage.getItem("bgMusicTime");
          if (savedTime) {
            bgMusic.currentTime = parseFloat(savedTime);
          }
          bgMusic.play();
          toggleMusicBtn.textContent = "üîä";
        }

        toggleMusicBtn.addEventListener("click", function () {
          isMusicPlaying = !isMusicPlaying;
          if (isMusicPlaying) {
            bgMusic.play();
            toggleMusicBtn.textContent = "üîä";
          } else {
            bgMusic.pause();
            toggleMusicBtn.textContent = "üîá";
          }
          localStorage.setItem("musicPlaying", isMusicPlaying);
        });
        window.addEventListener("beforeunload", () => {
          sessionStorage.setItem("bgMusicTime", bgMusic.currentTime);
        });
        //dangnhap
        const user = JSON.parse(sessionStorage.getItem("currentUser"));
        const nutDangNhap = document.getElementById("nut-dang-nhap");

        if (!user) {
            document.getElementById("ten-nguoi-choi").textContent = "Ch∆∞a ƒëƒÉng nh·∫≠p";
            document.getElementById("kc-hientai").textContent = "0";
            document.getElementById("cap-bac").textContent = "VIP 0";
            nutDangNhap.textContent = "ƒêƒÉng nh·∫≠p";
            nutDangNhap.onclick = () => {
            window.location.href = "dangnhap.html";
            };
        } else {
            const users = JSON.parse(localStorage.getItem("users")) || [];
            const userr = users.find(u => u.email === user.email);
            document.getElementById("ten-nguoi-choi").textContent = user.username;
            document.getElementById("kc-hientai").textContent = userr.kimcuong || 0;
            nutDangNhap.textContent = "ƒêƒÉng xu·∫•t";
            nutDangNhap.onclick = logout;
            // T·ªïng Zeni n·∫°p
            let tongZeniDaNap = userr.history.reduce((sum, log) => sum + log.zeni, 0);
            document.getElementById("cap-bac").textContent = getCapBac(tongZeniDaNap);
            // C·∫≠p nh·∫≠t thanh VIP
            const capBacSpan = document.getElementById("cap-bac");
            const vipNext = document.getElementById("vip-next");

            const vipMoc = [0, 1000, 5000, 10000, 20000, 50000, 100000, 200000, 300000, 500000];
            let capHienTai = 0;
            for (let i = 0; i < vipMoc.length; i++) {
                if (tongZeniDaNap < vipMoc[i]) {
                capHienTai = i - 1;
                break;
                } else if (i === vipMoc.length - 1) {
                capHienTai = i;
                }
            }
            const vipBadges = [
            "Base Form",         // VIP 0
            "SSJ 1 ‚ö°",         // VIP 1
            "SSJ 2 ‚ö°", // VIP 2
            "SSJ 3 ‚ö°",       // VIP 3
            "SSJ GOD üî•",       // VIP 4
            "SSJ BLUE üî•",       // VIP 5
            "SSJ ROSE üî•",      // VIP 6
            "Ultra Instinct -Sign- üî∑",       // VIP 7
            "True Ultra Instinct üî∑",// VIP 8
            "Master Ultra Instinct üí†"     // Huy·ªÅn tho·∫°i
            ];
            let danhHieu = [];
            danhHieu.push(vipBadges[capHienTai]);
            const danhHieuDiv = document.getElementById("danh-hieu");
            danhHieuDiv.innerHTML = `<span class="badge">${vipBadges[capHienTai]}</span>`;
             // Ch·ªçn avatar theo c·∫•p VIP
            const avatar = document.getElementById("avatar-nguoi-choi");

            if (capHienTai >= 0 && capHienTai <= 8) {
            avatar.src = `images/avt${capHienTai+1}.webp`;
            } else {
            avatar.src = "images/vip10.1.avif"; // Huy·ªÅn tho·∫°i
            }

            capBacSpan.textContent = capHienTai >= vipMoc.length - 1 ? "üëë Huy·ªÅn Tho·∫°i R·ªìng Thi√™ng" : `VIP ${capHienTai}`;
            avatar.className = "avatar-frame"; // reset
            if (capHienTai >= 0 && capHienTai <= 8) {
            avatar.classList.add(`vip-frame-${capHienTai}`);
            } else {
            avatar.classList.add("legendary-frame");
            }

            if (capHienTai < vipMoc.length - 1) {
                const mucHienTai = vipMoc[capHienTai];
                const mucTiepTheo = vipMoc[capHienTai + 1];
                const tienTrinh = ((tongZeniDaNap - mucHienTai) / (mucTiepTheo - mucHienTai)) * 100;
                document.getElementById("vip-bar").style.width = tienTrinh + "%";
                vipNext.textContent = `üîí B·∫°n c·∫ßn th√™m ${(mucTiepTheo - tongZeniDaNap).toLocaleString()} Zeni ƒë·ªÉ l√™n VIP ${capHienTai + 1}`;
            } else {
                document.getElementById("vip-bar").style.width = "100%";
                document.getElementById("vip-bar").style.background = "line-gradient(to right,#b2ebf2,#00e5ff)";
                vipNext.textContent = "üéâ B·∫°n ƒë√£ tr·ªü th√†nh chi·∫øn binh trong truy·ªÅn thuy·∫øt!";
            }
            
            // L·ªãch s·ª≠ n·∫°p
            document.getElementById("lich-su-nap").innerHTML = userr.history.map(log => {
              const thoiGian = new Date(log.time).toLocaleString("vi-VN", {
                timeZone: "Asia/Ho_Chi_Minh"
              });
              return `
            <tr>
                <td>${thoiGian}</td>
                <td>${log.zeni}</td>
                <td>${log.vnd.toLocaleString()}</td>
            </tr>`;
            }).join('');

        
            // Danh s√°ch item ƒë√£ mua
            const tbody = document.getElementById("lich-su-item");
            tbody.innerHTML = userr.items.map(i => `
            <tr>
                <td>${i.time}</td>
                <td>${i.id}</td>
                <td>${i.gia}</td>
                <td><button onclick="copyCode('${i.code}')">üìã Copy</button></td>
            </tr>
            `).join('');

        }

        function getCapBac(tong) {
            if (tong < 1000) return "VIP 0";
            if (tong < 5000) return "VIP 1";
            if (tong < 10000) return "VIP 2";
            if (tong < 20000) return "VIP 3";
            if (tong < 50000) return "VIP 4";
            if (tong < 100000) return "VIP 5";
            if (tong < 200000) return "VIP 6";
            if (tong < 300000) return "VIP 7";
            if (tong < 500000) return "VIP 8";
            return "üëë Huy·ªÅn Tho·∫°i R·ªìng Thi√™ng";
        }

        function logout() {
            sessionStorage.removeItem("currentUser");
            showToast("‚úÖ ƒêƒÉng xu·∫•t th√†nh c√¥ng!");
            location.reload();
        }
    
        function copyCode(code) {
        navigator.clipboard.writeText(code);
        showToast(`‚úÖ ƒê√£ copy m√£: ${code}`);
        }
        function showToast(message) {
        const toast = document.getElementById("toast");
        if (!toast) return;
        toast.textContent = message;
        toast.className = "show";
        setTimeout(() => {
            toast.className = "hidden";
        }, 3000);
        }
        function hienNhapCode() {
          document.getElementById("form-nhap-code").style.display = "block";
          document.getElementById("overlay").style.display = "block";
        }

        function anNhapCode() {
          document.getElementById("form-nhap-code").style.display = "none";
          document.getElementById("overlay").style.display = "none";
        }

        function doiCode() {
          const codeInput = document.getElementById("code-input");
          const code = codeInput.value.trim().toUpperCase(); // chu·∫©n h√≥a m√£
          const currentUser = JSON.parse(sessionStorage.getItem("currentUser"));
          if (!currentUser) {
            showToast("‚ö†Ô∏è B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ s·ª≠ d·ª•ng m√£ code.");
            return;
          }
          if (code === "") {
            showToast("‚ö†Ô∏è Vui l√≤ng nh·∫≠p m√£ code.");
            return;
          }
          const users = JSON.parse(localStorage.getItem("users")) || [];
          const user = users.find(u => u.email === currentUser.email);

          if (!user.items) {
            showToast("‚ùå Kh√¥ng t√¨m th·∫•y ng∆∞·ªùi d√πng!");
            return;
          }

          const matchedItem = user.items.find(i => i.code === code);

          if (!matchedItem) {
            showToast("‚ùå M√£ code kh√¥ng ƒë√∫ng ho·∫∑c kh√¥ng thu·ªôc t√†i kho·∫£n b·∫°n.");
            return;
          }

          if (matchedItem.used) {
            showToast("‚ö†Ô∏è M√£ n√†y ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªìi!");
            return;
          }

          // ‚úÖ ƒê·ªïi m√£ th√†nh c√¥ng
          matchedItem.used = true;
          localStorage.setItem("users", JSON.stringify(users));
          showToast(`‚úÖ B·∫°n v·ª´a nh·∫≠n qu√† t·ª´ m√£ ${code}!`);
          codeInput.value = "";
          anNhapCode();

          // üëâ C√≥ th·ªÉ t√πy ch·ªçn c·ªông th√™m Zeni t√πy lo·∫°i item
        }
        // Toggle popup chu√¥ng
        document.getElementById("notification-bell").addEventListener("click", () => {
          const popup = document.getElementById("notification-popup");
          popup.style.display = popup.style.display === "none" ? "block" : "none";
        });


    </script>
    <script>
      function hienPopupOnline() {
        document.getElementById("overlay-online").style.display = "block";
        document.getElementById("popup-online").style.display = "block";
      }
      function anPopupOnline() {
        document.getElementById("overlay-online").style.display = "none";
        document.getElementById("popup-online").style.display = "none";
      }
      const currentUser = JSON.parse(sessionStorage.getItem("currentUser"));
      const ngayHomNay = new Date().toISOString().split("T")[0];

      if (currentUser) {
        const email = currentUser.email;
        const onlineKey = `onlineTimeData_${email}`;
        const nhanKey = `dd_nhan_${email}`;

        // L·∫•y d·ªØ li·ªáu th·ªùi gian online c·ªßa ng∆∞·ªùi d√πng h√¥m nay
        let data = JSON.parse(localStorage.getItem(onlineKey)) || {};
        if (!data[ngayHomNay]) {
          data[ngayHomNay] = { start: Date.now() };
          localStorage.setItem(onlineKey, JSON.stringify(data));
        }

        let startTime = data[ngayHomNay].start;

        // Hi·ªÉn th·ªã ph√∫t ngay khi v√†o
        function capNhatPhutOnline() {
          const minutes = Math.floor((Date.now() - startTime) / 60000);
          document.getElementById("online-time").textContent = `‚è≥ ƒê√£ online: ${minutes} ph√∫t h√¥m nay`;
          return minutes;
        }
        capNhatPhutOnline();

        // C·∫≠p nh·∫≠t m·ªói 10s
        setInterval(capNhatPhutOnline, 10);

        // M·ªëc th∆∞·ªüng
        const mocThuong = {
          10: 340,
          20: 690,
          40: 1400,
          70:1400,
          100:3550,
          140:3550,
          180: 7250
        };

        // Nh·∫≠n th∆∞·ªüng
        function nhanThuongMoc(phut) {
          const minutesOnline = capNhatPhutOnline();
          if (minutesOnline < phut) {
            return showToast(`‚ùå C·∫ßn online √≠t nh·∫•t ${phut} ph√∫t ƒë·ªÉ nh·∫≠n m·ªëc n√†y!`);
          }

          const daNhan = JSON.parse(localStorage.getItem(nhanKey)) || {};
          const daHomNay = daNhan[ngayHomNay] || [];
          if (daHomNay.includes(phut)) {
            return showToast("‚ùå B·∫°n ƒë√£ nh·∫≠n m·ªëc n√†y h√¥m nay!");
          }

          const users = JSON.parse(localStorage.getItem("users")) || [];
          const me = users.find(u => u.email === email);
          me.kimcuong = (me.kimcuong || 0) + mocThuong[phut];
          localStorage.setItem("users", JSON.stringify(users));
          document.getElementById("kc-hientai").textContent = me.kimcuong;

          daHomNay.push(phut);
          daNhan[ngayHomNay] = daHomNay;
          localStorage.setItem(nhanKey, JSON.stringify(daNhan));

          showToast(`‚úÖ B·∫°n ƒë√£ nh·∫≠n ${mocThuong[phut].toLocaleString()} Zeni!`);
        }

        // G·∫Øn l√™n global
        window.nhanThuongMoc = nhanThuongMoc;

      } else {
        document.getElementById("online-time").textContent = "Ch∆∞a ƒëƒÉng nh·∫≠p";
        function nhanThuongMoc(phut){
          return showToast("‚ö†Ô∏è B·∫°n c·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ nh·∫≠n qu√† online.")
        }
      }
      </script>
      <script>
        function hienNhiemvuHangNgay(){
          document.getElementById("nv-popup-online").style.display = "block";
          document.getElementById("nv-overlay-online").style.display = "block";
        }

        function anNhiemvuHangNgay(){
          document.getElementById("nv-popup-online").style.display = "none";
          document.getElementById("nv-overlay-online").style.display = "none";
        }

        document.querySelectorAll(".nv-nhan-thuong button").forEach((btn, index) => {
          btn.onclick = () => nhanThuongNV(index);
        });

        function nhanThuongNV(id){
          const userr = JSON.parse(sessionStorage.getItem("currentUser"));
          if (!userr) return showToast("‚ö†Ô∏è C·∫ßn ƒëƒÉng nh·∫≠p ƒë·ªÉ nh·∫≠n th∆∞·ªüng!");
          const users = JSON.parse(localStorage.getItem("users")) || [];
          const me = users.find(u => u.email === userr.email);
          const email = me.email
          const key = `nvhn_${email}`;
          const ngay = new Date().toISOString().split("T")[0];
          const data = JSON.parse(localStorage.getItem(key)) || {};
          if (!data[ngay]) data[ngay] = [];

          if (data[ngay].includes(id)) {
            return showToast("‚ùå Nhi·ªám v·ª• n√†y ƒë√£ nh·∫≠n h√¥m nay!");
          }

          const phanThuong = [2000, 3000, 2000, 5000, 2000, 10000];
          if (id === 5) {
            const daNap = (me.history || []).some(log => {
              const ngayLog = new Date(log.time).toISOString().split("T")[0];
              return ngayLog === ngay;
            });
            if (!daNap) {
              return showToast("‚ùå B·∫°n c·∫ßn n·∫°p ti·ªÅn h√¥m nay m·ªõi nh·∫≠n ƒë∆∞·ª£c nhi·ªám v·ª• n√†y!");
            }
          }

          me.kimcuong = (me.kimcuong || 0) + phanThuong[id];
          localStorage.setItem("users", JSON.stringify(users));

          document.getElementById("kc-hientai").textContent = me.kimcuong;
          data[ngay].push(id);
          localStorage.setItem(key, JSON.stringify(data));

          showToast(`‚úÖ ƒê√£ nh·∫≠n ${phanThuong[id].toLocaleString()} Zeni!`);
          capNhatTienTrinhNV();
        }


        function capNhatTienTrinhNV(){
          const email = JSON.parse(sessionStorage.getItem("currentUser")).email;
          const key = `nvhn_${email}`;
          const ngay = new Date().toISOString().split("T")[0];
          const data = JSON.parse(localStorage.getItem(key)) || {};
          const daNhan = data[ngay];
          const progress = (daNhan.length / 6) * 100;
          document.getElementById("nv-bar").style.width = progress + "%";
          document.getElementById("nv-so-hoan-thanh").textContent = `${Math.floor(progress)}%`;
        }

        window.onload = capNhatTienTrinhNV;
        </script>
      </body>
</html>